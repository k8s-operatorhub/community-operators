apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: "[\n  {\n    \"apiVersion\": \"mlops.mlops.dev/v1alpha1\",\n    \"kind\": \"NotebookValidationJob\",\n    \"metadata\": {\n      \"labels\": {\n        \"app.kubernetes.io/managed-by\": \"kustomize\",\n        \"app.kubernetes.io/name\": \"jupyter-notebook-validator-operator\"\n      },\n      \"name\": \"notebookvalidationjob-sample\",\n      \"namespace\": \"jupyter-notebook-validator-operator\"\n    },\n    \"spec\": {\n      \"notebook\": {\n        \"git\": {\n          \"ref\": \"main\",\n          \"url\": \"https://github.com/tosin2013/jupyter-notebook-validator-test-notebooks.git\"\n        },\n        \"path\": \"notebooks/tier1-simple/01-hello-world.ipynb\"\n      },\n      \"podConfig\": {\n        \"containerImage\": \"quay.io/jupyter/scipy-notebook:latest\",\n        \"env\": [\n          {\n            \"name\": \"JUPYTER_ENABLE_LAB\",\n            \"value\": \"yes\"\n          }\n        ],\n        \"resources\": {\n          \"limits\": {\n           \
      \ \"cpu\": \"1000m\",\n            \"memory\": \"1Gi\"\n          },\n          \"requests\": {\n            \"cpu\": \"500m\",\n            \"memory\": \"512Mi\"\n          }\n        },\n        \"serviceAccountName\": \"notebook-validator-jupyter-notebook-validator-runner\"\n      },\n      \"timeout\": \"30m\"\n    }\n  }\n]"
    capabilities: Seamless Upgrades
    categories: AI/Machine Learning, Developer Tools, Integration & Delivery
    containerImage: quay.io/takinosh/jupyter-notebook-validator-operator:1.0.8-ocp4.19
    createdAt: '2025-12-03T21:08:40Z'
    description: Kubernetes operator for validating Jupyter notebooks in MLOps workflows
    operators.operatorframework.io/builder: operator-sdk-v1.37.0
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v4
    repository: https://github.com/tosin2013/jupyter-notebook-validator-operator
    support: Community
  name: jupyter-notebook-validator-operator.v1.0.9
  namespace: placeholder
spec:
  replaces: jupyter-notebook-validator-operator.v1.0.7
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - description: NotebookValidationJob is the Schema for the notebookvalidationjobs API
      displayName: Notebook Validation Job
      kind: NotebookValidationJob
      name: notebookvalidationjobs.mlops.mlops.dev
      version: v1alpha1
  description: "## Jupyter Notebook Validator Operator\n\nThe Jupyter Notebook Validator Operator automates Jupyter notebook validation in MLOps workflows on Kubernetes and OpenShift.\n\n### Features\n\n* **Git Integration**: Clone notebooks from Git repositories (HTTPS, SSH) with credential support\n* **Papermill Execution**: Execute notebooks using Papermill with configurable parameters\n* **Golden Notebook Comparison**: Compare outputs against golden notebooks with configurable tolerances\n* **Model Validation**: Validate notebooks against deployed ML models (KServe, OpenShift AI, vLLM, etc.)\n* **Build Integration**: Auto-detect requirements.txt and build custom images using S2I or Tekton\n* **Credential Management**: Inject credentials via Kubernetes Secrets or External Secrets Operator\n\n### Supported Platforms\n\n* Kubernetes 1.33+\n* OpenShift 4.18 - 4.20\n* Tekton Pipelines v0.68+ (OpenShift Pipelines 1.20+)\n\n### Getting Started\n\n1. Create a NotebookValidationJob resource pointing\
    \ to your notebook repository\n2. The operator clones the repository, builds dependencies if needed, and executes the notebook\n3. Results are stored in the job status with detailed cell-by-cell execution information\n\n### Example\n\n```yaml\napiVersion: mlops.mlops.dev/v1alpha1\nkind: NotebookValidationJob\nmetadata:\n  name: my-notebook-validation\nspec:\n  notebook:\n    git:\n      url: \"https://github.com/myorg/notebooks.git\"\n      ref: \"main\"\n    path: \"notebooks/analysis.ipynb\"\n  podConfig:\n    containerImage: \"quay.io/jupyter/minimal-notebook:latest\"\n  timeout: \"10m\"\n```\n\n### Documentation\n\n* [Architecture Overview](https://github.com/tosin2013/jupyter-notebook-validator-operator/blob/main/docs/ARCHITECTURE_OVERVIEW.md)\n* [Testing Guide](https://github.com/tosin2013/jupyter-notebook-validator-operator/blob/main/docs/TESTING_GUIDE.md)\n* [ADRs](https://github.com/tosin2013/jupyter-notebook-validator-operator/tree/main/docs/adrs)\n"
  displayName: Jupyter Notebook Validator Operator
  icon:
  - base64data: iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF8WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMTEtMjVUMDA6MDA6MDArMDA6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTExLTI1VDAwOjAwOjAwKzAwOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTExLTI1VDAwOjAwOjAwKzAwOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+PC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQAAAAAACwAAAAAYABgAAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fPn0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3bt3Djyp1Lt67du3jz6t3Lt6/fv4ADCx5MuLDhw4gTK17MuLHjx5AjS55MubLly5gza97MubPnz6BDix5NurTp06hTq17NurXr17Bjy55Nu7bt27hz697Nu7fv38CDCx9OvLjx48iTK1/OvLnz59CjS59Ovbr169iza9/Ovbv37+DDi/8fT768+fPo06tfz769+/fw48ufT7++/fv48+vfz7+///8ABijggAQWaOCBCCao4IIMNujggxBGKOGEFFZo4YUYZqjhhhx26OGHIIYo4ogklmjiiSimqOKKLLbo4NkrtujijDTWaOON
    mediatype: image/png
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - ''
          resources:
          - configmaps
          verbs:
          - get
          - list
        - apiGroups:
          - ''
          resources:
          - events
          verbs:
          - create
          - patch
          - update
        - apiGroups:
          - ''
          resources:
          - persistentvolumeclaims
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ''
          resources:
          - pods
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ''
          resources:
          - pods/log
          verbs:
          - get
          - list
        - apiGroups:
          - ''
          resources:
          - pods/status
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - ''
          resources:
          - secrets
          verbs:
          - create
          - get
          - list
          - watch
        - apiGroups:
          - ''
          resources:
          - serviceaccounts
          verbs:
          - create
          - get
          - list
          - watch
        - apiGroups:
          - apps
          resources:
          - deployments
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - build.openshift.io
          resources:
          - buildconfigs
          - builds
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - image.openshift.io
          resources:
          - imagestreams
          verbs:
          - create
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - machinelearning.seldon.io
          resources:
          - seldondeployments
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - mlops.mlops.dev
          resources:
          - notebookvalidationjobs
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - mlops.mlops.dev
          resources:
          - notebookvalidationjobs/finalizers
          verbs:
          - update
        - apiGroups:
          - mlops.mlops.dev
          resources:
          - notebookvalidationjobs/status
          verbs:
          - get
          - patch
          - update
        - apiGroups:
          - ray.io
          resources:
          - rayclusters
          - rayservices
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - security.openshift.io
          resourceNames:
          - pipelines-scc
          - privileged
          resources:
          - securitycontextconstraints
          verbs:
          - get
          - list
          - update
          - use
        - apiGroups:
          - serving.kserve.io
          resources:
          - inferenceservices
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - serving.kserve.io
          resources:
          - servingruntimes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - serving.yatai.ai
          resources:
          - bentodeployments
          - bentos
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - tekton.dev
          resources:
          - pipelineruns
          - pipelines
          - taskruns
          - tasks
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - authentication.k8s.io
          resources:
          - tokenreviews
          verbs:
          - create
        - apiGroups:
          - authorization.k8s.io
          resources:
          - subjectaccessreviews
          verbs:
          - create
        serviceAccountName: notebook-validator-controller-manager
      deployments:
      - label:
          app.kubernetes.io/managed-by: kustomize
          app.kubernetes.io/name: jupyter-notebook-validator-operator
          control-plane: controller-manager
        name: notebook-validator-controller-manager
        spec:
          replicas: 1
          selector:
            matchLabels:
              control-plane: controller-manager
          strategy: {}
          template:
            metadata:
              annotations:
                kubectl.kubernetes.io/default-container: manager
              labels:
                control-plane: controller-manager
            spec:
              containers:
              - args:
                - --health-probe-bind-address=:8081
                - --metrics-bind-address=127.0.0.1:8080
                - --leader-elect
                command:
                - /manager
                env:
                - name: ENABLE_WEBHOOKS
                  value: 'false'
                - name: PLATFORM
                  value: openshift
                - name: GIT_INIT_IMAGE
                image: quay.io/takinosh/jupyter-notebook-validator-operator:1.0.8-ocp4.19
                imagePullPolicy: Always
                livenessProbe:
                  httpGet:
                    path: /healthz
                    port: 8081
                  initialDelaySeconds: 45
                  periodSeconds: 20
                name: manager
                ports: []
                readinessProbe:
                  failureThreshold: 6
                  httpGet:
                    path: /readyz
                    port: 8081
                  initialDelaySeconds: 30
                  periodSeconds: 10
                resources:
                  limits:
                    cpu: 500m
                    memory: 256Mi
                  requests:
                    cpu: 50m
                    memory: 128Mi
                securityContext:
                  allowPrivilegeEscalation: false
                  capabilities:
                    drop:
                    - ALL
                volumeMounts: []
              - args:
                - --secure-listen-address=0.0.0.0:8443
                - --upstream=http://127.0.0.1:8080/
                - --logtostderr=true
                - --v=0
                image: gcr.io/kubebuilder/kube-rbac-proxy:v0.16.0
                name: kube-rbac-proxy
                ports:
                - containerPort: 8443
                  name: https
                  protocol: TCP
                resources:
                  limits:
                    cpu: 500m
                    memory: 256Mi
                  requests:
                    cpu: 5m
                    memory: 128Mi
                securityContext:
                  allowPrivilegeEscalation: false
                  capabilities:
                    drop:
                    - ALL
              securityContext:
                runAsNonRoot: true
              serviceAccountName: notebook-validator-controller-manager
              terminationGracePeriodSeconds: 10
              volumes: []
      permissions:
      - rules:
        - apiGroups:
          - ''
          resources:
          - configmaps
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - patch
          - delete
        - apiGroups:
          - coordination.k8s.io
          resources:
          - leases
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - patch
          - delete
        - apiGroups:
          - ''
          resources:
          - events
          verbs:
          - create
          - patch
        serviceAccountName: notebook-validator-controller-manager
    strategy: deployment
  installModes:
  - supported: false
    type: OwnNamespace
  - supported: false
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: true
    type: AllNamespaces
  keywords:
  - jupyter
  - notebook
  - validation
  - mlops
  - machine-learning
  - papermill
  - tekton
  - openshift
  links:
  - name: Documentation
    url: https://github.com/tosin2013/jupyter-notebook-validator-operator/tree/main/docs
  - name: GitHub Repository
    url: https://github.com/tosin2013/jupyter-notebook-validator-operator
  - name: Architecture Decision Records
    url: https://github.com/tosin2013/jupyter-notebook-validator-operator/tree/main/docs/adrs
  maintainers:
  - email: tosin.akinosho@gmail.com
    name: Decision Crafters
  maturity: alpha
  minKubeVersion: 1.28.0
  provider:
    name: Decision Crafters
    url: https://www.decisioncrafters.com/
  version: 1.0.8
