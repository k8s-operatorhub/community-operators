apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.9.0
  creationTimestamp: null
  name: clustertemplates.clustertemplate.openshift.io
spec:
  group: clustertemplate.openshift.io
  names:
    kind: ClusterTemplate
    listKind: ClusterTemplateList
    plural: clustertemplates
    shortNames:
    - ct
    - cts
    singular: clustertemplate
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - description: Cluster cost
      jsonPath: .spec.cost
      name: Cost
      type: integer
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Template of a cluster - both installation and post-install setup
          are defined as ArgoCD application spec. Any application source is supported
          - typically a Helm chart
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            properties:
              argocdNamespace:
                description: A namespace where ArgoCD Applications will be created
                type: string
              clusterDefinition:
                description: ArgoCD application spec which is used for installation
                  of the cluster
                properties:
                  destination:
                    description: Destination is a reference to the target Kubernetes
                      server and namespace
                    properties:
                      name:
                        description: Name is an alternate way of specifying the target
                          cluster by its symbolic name
                        type: string
                      namespace:
                        description: Namespace specifies the target namespace for
                          the application's resources. The namespace will only be
                          set for namespace-scoped resources that have not set a value
                          for .metadata.namespace
                        type: string
                      server:
                        description: Server specifies the URL of the target cluster
                          and must be set to the Kubernetes control plane API
                        type: string
                    type: object
                  ignoreDifferences:
                    description: IgnoreDifferences is a list of resources and their
                      fields which should be ignored during comparison
                    items:
                      description: ResourceIgnoreDifferences contains resource filter
                        and list of json paths which should be ignored during comparison
                        with live state.
                      properties:
                        group:
                          type: string
                        jqPathExpressions:
                          items:
                            type: string
                          type: array
                        jsonPointers:
                          items:
                            type: string
                          type: array
                        kind:
                          type: string
                        managedFieldsManagers:
                          description: ManagedFieldsManagers is a list of trusted
                            managers. Fields mutated by those managers will take precedence
                            over the desired state defined in the SCM and won't be
                            displayed in diffs
                          items:
                            type: string
                          type: array
                        name:
                          type: string
                        namespace:
                          type: string
                      required:
                      - kind
                      type: object
                    type: array
                  info:
                    description: Info contains a list of information (URLs, email
                      addresses, and plain text) that relates to the application
                    items:
                      properties:
                        name:
                          type: string
                        value:
                          type: string
                      required:
                      - name
                      - value
                      type: object
                    type: array
                  project:
                    description: Project is a reference to the project this application
                      belongs to. The empty string means that application belongs
                      to the 'default' project.
                    type: string
                  revisionHistoryLimit:
                    description: RevisionHistoryLimit limits the number of items kept
                      in the application's revision history, which is used for informational
                      purposes as well as for rollbacks to previous versions. This
                      should only be changed in exceptional circumstances. Setting
                      to zero will store no history. This will reduce storage used.
                      Increasing will increase the space used to store the history,
                      so we do not recommend increasing it. Default is 10.
                    format: int64
                    type: integer
                  source:
                    description: Source is a reference to the location of the application's
                      manifests or chart
                    properties:
                      chart:
                        description: Chart is a Helm chart name, and must be specified
                          for applications sourced from a Helm repo.
                        type: string
                      directory:
                        description: Directory holds path/directory specific options
                        properties:
                          exclude:
                            description: Exclude contains a glob pattern to match
                              paths against that should be explicitly excluded from
                              being used during manifest generation
                            type: string
                          include:
                            description: Include contains a glob pattern to match
                              paths against that should be explicitly included during
                              manifest generation
                            type: string
                          jsonnet:
                            description: Jsonnet holds options specific to Jsonnet
                            properties:
                              extVars:
                                description: ExtVars is a list of Jsonnet External
                                  Variables
                                items:
                                  description: JsonnetVar represents a variable to
                                    be passed to jsonnet during manifest generation
                                  properties:
                                    code:
                                      type: boolean
                                    name:
                                      type: string
                                    value:
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                              libs:
                                description: Additional library search dirs
                                items:
                                  type: string
                                type: array
                              tlas:
                                description: TLAS is a list of Jsonnet Top-level Arguments
                                items:
                                  description: JsonnetVar represents a variable to
                                    be passed to jsonnet during manifest generation
                                  properties:
                                    code:
                                      type: boolean
                                    name:
                                      type: string
                                    value:
                                      type: string
                                  required:
                                  - name
                                  - value
                                  type: object
                                type: array
                            type: object
                          recurse:
                            description: Recurse specifies whether to scan a directory
                              recursively for manifests
                            type: boolean
                        type: object
                      helm:
                        description: Helm holds helm specific options
                        properties:
                          fileParameters:
                            description: FileParameters are file parameters to the
                              helm template
                            items:
                              description: HelmFileParameter is a file parameter that's
                                passed to helm template during manifest generation
                              properties:
                                name:
                                  description: Name is the name of the Helm parameter
                                  type: string
                                path:
                                  description: Path is the path to the file containing
                                    the values for the Helm parameter
                                  type: string
                              type: object
                            type: array
                          ignoreMissingValueFiles:
                            description: IgnoreMissingValueFiles prevents helm template
                              from failing when valueFiles do not exist locally by
                              not appending them to helm template --values
                            type: boolean
                          parameters:
                            description: Parameters is a list of Helm parameters which
                              are passed to the helm template command upon manifest
                              generation
                            items:
                              description: HelmParameter is a parameter that's passed
                                to helm template during manifest generation
                              properties:
                                forceString:
                                  description: ForceString determines whether to tell
                                    Helm to interpret booleans and numbers as strings
                                  type: boolean
                                name:
                                  description: Name is the name of the Helm parameter
                                  type: string
                                value:
                                  description: Value is the value for the Helm parameter
                                  type: string
                              type: object
                            type: array
                          passCredentials:
                            description: PassCredentials pass credentials to all domains
                              (Helm's --pass-credentials)
                            type: boolean
                          releaseName:
                            description: ReleaseName is the Helm release name to use.
                              If omitted it will use the application name
                            type: string
                          skipCrds:
                            description: SkipCrds skips custom resource definition
                              installation step (Helm's --skip-crds)
                            type: boolean
                          valueFiles:
                            description: ValuesFiles is a list of Helm value files
                              to use when generating a template
                            items:
                              type: string
                            type: array
                          values:
                            description: Values specifies Helm values to be passed
                              to helm template, typically defined as a block
                            type: string
                          version:
                            description: Version is the Helm version to use for templating
                              ("3")
                            type: string
                        type: object
                      kustomize:
                        description: Kustomize holds kustomize specific options
                        properties:
                          commonAnnotations:
                            additionalProperties:
                              type: string
                            description: CommonAnnotations is a list of additional
                              annotations to add to rendered manifests
                            type: object
                          commonLabels:
                            additionalProperties:
                              type: string
                            description: CommonLabels is a list of additional labels
                              to add to rendered manifests
                            type: object
                          forceCommonAnnotations:
                            description: ForceCommonAnnotations specifies whether
                              to force applying common annotations to resources for
                              Kustomize apps
                            type: boolean
                          forceCommonLabels:
                            description: ForceCommonLabels specifies whether to force
                              applying common labels to resources for Kustomize apps
                            type: boolean
                          images:
                            description: Images is a list of Kustomize image override
                              specifications
                            items:
                              description: KustomizeImage represents a Kustomize image
                                definition in the format [old_image_name=]<image_name>:<image_tag>
                              type: string
                            type: array
                          namePrefix:
                            description: NamePrefix is a prefix appended to resources
                              for Kustomize apps
                            type: string
                          nameSuffix:
                            description: NameSuffix is a suffix appended to resources
                              for Kustomize apps
                            type: string
                          version:
                            description: Version controls which version of Kustomize
                              to use for rendering manifests
                            type: string
                        type: object
                      path:
                        description: Path is a directory path within the Git repository,
                          and is only valid for applications sourced from Git.
                        type: string
                      plugin:
                        description: Plugin holds config management plugin specific
                          options
                        properties:
                          env:
                            description: Env is a list of environment variable entries
                            items:
                              description: EnvEntry represents an entry in the application's
                                environment
                              properties:
                                name:
                                  description: Name is the name of the variable, usually
                                    expressed in uppercase
                                  type: string
                                value:
                                  description: Value is the value of the variable
                                  type: string
                              required:
                              - name
                              - value
                              type: object
                            type: array
                          name:
                            type: string
                        type: object
                      repoURL:
                        description: RepoURL is the URL to the repository (Git or
                          Helm) that contains the application manifests
                        type: string
                      targetRevision:
                        description: TargetRevision defines the revision of the source
                          to sync the application to. In case of Git, this can be
                          commit, tag, or branch. If omitted, will equal to HEAD.
                          In case of Helm, this is a semver tag for the Chart's version.
                        type: string
                    required:
                    - repoURL
                    type: object
                  syncPolicy:
                    description: SyncPolicy controls when and how a sync will be performed
                    properties:
                      automated:
                        description: Automated will keep an application synced to
                          the target revision
                        properties:
                          allowEmpty:
                            description: 'AllowEmpty allows apps have zero live resources
                              (default: false)'
                            type: boolean
                          prune:
                            description: 'Prune specifies whether to delete resources
                              from the cluster that are not found in the sources anymore
                              as part of automated sync (default: false)'
                            type: boolean
                          selfHeal:
                            description: 'SelfHeal specifes whether to revert resources
                              back to their desired state upon modification in the
                              cluster (default: false)'
                            type: boolean
                        type: object
                      retry:
                        description: Retry controls failed sync retry behavior
                        properties:
                          backoff:
                            description: Backoff controls how to backoff on subsequent
                              retries of failed syncs
                            properties:
                              duration:
                                description: Duration is the amount to back off. Default
                                  unit is seconds, but could also be a duration (e.g.
                                  "2m", "1h")
                                type: string
                              factor:
                                description: Factor is a factor to multiply the base
                                  duration after each failed retry
                                format: int64
                                type: integer
                              maxDuration:
                                description: MaxDuration is the maximum amount of
                                  time allowed for the backoff strategy
                                type: string
                            type: object
                          limit:
                            description: Limit is the maximum number of attempts for
                              retrying a failed sync. If set to 0, no retries will
                              be performed.
                            format: int64
                            type: integer
                        type: object
                      syncOptions:
                        description: Options allow you to specify whole app sync-options
                        items:
                          type: string
                        type: array
                    type: object
                required:
                - destination
                - project
                - source
                type: object
              clusterSetup:
                description: Array of ArgoCD application specs which are used for
                  post installation setup of the cluster
                items:
                  properties:
                    name:
                      description: Name of the cluster setup
                      type: string
                    spec:
                      description: ArgoCD application spec which is used for setting
                        up the cluster
                      properties:
                        destination:
                          description: Destination is a reference to the target Kubernetes
                            server and namespace
                          properties:
                            name:
                              description: Name is an alternate way of specifying
                                the target cluster by its symbolic name
                              type: string
                            namespace:
                              description: Namespace specifies the target namespace
                                for the application's resources. The namespace will
                                only be set for namespace-scoped resources that have
                                not set a value for .metadata.namespace
                              type: string
                            server:
                              description: Server specifies the URL of the target
                                cluster and must be set to the Kubernetes control
                                plane API
                              type: string
                          type: object
                        ignoreDifferences:
                          description: IgnoreDifferences is a list of resources and
                            their fields which should be ignored during comparison
                          items:
                            description: ResourceIgnoreDifferences contains resource
                              filter and list of json paths which should be ignored
                              during comparison with live state.
                            properties:
                              group:
                                type: string
                              jqPathExpressions:
                                items:
                                  type: string
                                type: array
                              jsonPointers:
                                items:
                                  type: string
                                type: array
                              kind:
                                type: string
                              managedFieldsManagers:
                                description: ManagedFieldsManagers is a list of trusted
                                  managers. Fields mutated by those managers will
                                  take precedence over the desired state defined in
                                  the SCM and won't be displayed in diffs
                                items:
                                  type: string
                                type: array
                              name:
                                type: string
                              namespace:
                                type: string
                            required:
                            - kind
                            type: object
                          type: array
                        info:
                          description: Info contains a list of information (URLs,
                            email addresses, and plain text) that relates to the application
                          items:
                            properties:
                              name:
                                type: string
                              value:
                                type: string
                            required:
                            - name
                            - value
                            type: object
                          type: array
                        project:
                          description: Project is a reference to the project this
                            application belongs to. The empty string means that application
                            belongs to the 'default' project.
                          type: string
                        revisionHistoryLimit:
                          description: RevisionHistoryLimit limits the number of items
                            kept in the application's revision history, which is used
                            for informational purposes as well as for rollbacks to
                            previous versions. This should only be changed in exceptional
                            circumstances. Setting to zero will store no history.
                            This will reduce storage used. Increasing will increase
                            the space used to store the history, so we do not recommend
                            increasing it. Default is 10.
                          format: int64
                          type: integer
                        source:
                          description: Source is a reference to the location of the
                            application's manifests or chart
                          properties:
                            chart:
                              description: Chart is a Helm chart name, and must be
                                specified for applications sourced from a Helm repo.
                              type: string
                            directory:
                              description: Directory holds path/directory specific
                                options
                              properties:
                                exclude:
                                  description: Exclude contains a glob pattern to
                                    match paths against that should be explicitly
                                    excluded from being used during manifest generation
                                  type: string
                                include:
                                  description: Include contains a glob pattern to
                                    match paths against that should be explicitly
                                    included during manifest generation
                                  type: string
                                jsonnet:
                                  description: Jsonnet holds options specific to Jsonnet
                                  properties:
                                    extVars:
                                      description: ExtVars is a list of Jsonnet External
                                        Variables
                                      items:
                                        description: JsonnetVar represents a variable
                                          to be passed to jsonnet during manifest
                                          generation
                                        properties:
                                          code:
                                            type: boolean
                                          name:
                                            type: string
                                          value:
                                            type: string
                                        required:
                                        - name
                                        - value
                                        type: object
                                      type: array
                                    libs:
                                      description: Additional library search dirs
                                      items:
                                        type: string
                                      type: array
                                    tlas:
                                      description: TLAS is a list of Jsonnet Top-level
                                        Arguments
                                      items:
                                        description: JsonnetVar represents a variable
                                          to be passed to jsonnet during manifest
                                          generation
                                        properties:
                                          code:
                                            type: boolean
                                          name:
                                            type: string
                                          value:
                                            type: string
                                        required:
                                        - name
                                        - value
                                        type: object
                                      type: array
                                  type: object
                                recurse:
                                  description: Recurse specifies whether to scan a
                                    directory recursively for manifests
                                  type: boolean
                              type: object
                            helm:
                              description: Helm holds helm specific options
                              properties:
                                fileParameters:
                                  description: FileParameters are file parameters
                                    to the helm template
                                  items:
                                    description: HelmFileParameter is a file parameter
                                      that's passed to helm template during manifest
                                      generation
                                    properties:
                                      name:
                                        description: Name is the name of the Helm
                                          parameter
                                        type: string
                                      path:
                                        description: Path is the path to the file
                                          containing the values for the Helm parameter
                                        type: string
                                    type: object
                                  type: array
                                ignoreMissingValueFiles:
                                  description: IgnoreMissingValueFiles prevents helm
                                    template from failing when valueFiles do not exist
                                    locally by not appending them to helm template
                                    --values
                                  type: boolean
                                parameters:
                                  description: Parameters is a list of Helm parameters
                                    which are passed to the helm template command
                                    upon manifest generation
                                  items:
                                    description: HelmParameter is a parameter that's
                                      passed to helm template during manifest generation
                                    properties:
                                      forceString:
                                        description: ForceString determines whether
                                          to tell Helm to interpret booleans and numbers
                                          as strings
                                        type: boolean
                                      name:
                                        description: Name is the name of the Helm
                                          parameter
                                        type: string
                                      value:
                                        description: Value is the value for the Helm
                                          parameter
                                        type: string
                                    type: object
                                  type: array
                                passCredentials:
                                  description: PassCredentials pass credentials to
                                    all domains (Helm's --pass-credentials)
                                  type: boolean
                                releaseName:
                                  description: ReleaseName is the Helm release name
                                    to use. If omitted it will use the application
                                    name
                                  type: string
                                skipCrds:
                                  description: SkipCrds skips custom resource definition
                                    installation step (Helm's --skip-crds)
                                  type: boolean
                                valueFiles:
                                  description: ValuesFiles is a list of Helm value
                                    files to use when generating a template
                                  items:
                                    type: string
                                  type: array
                                values:
                                  description: Values specifies Helm values to be
                                    passed to helm template, typically defined as
                                    a block
                                  type: string
                                version:
                                  description: Version is the Helm version to use
                                    for templating ("3")
                                  type: string
                              type: object
                            kustomize:
                              description: Kustomize holds kustomize specific options
                              properties:
                                commonAnnotations:
                                  additionalProperties:
                                    type: string
                                  description: CommonAnnotations is a list of additional
                                    annotations to add to rendered manifests
                                  type: object
                                commonLabels:
                                  additionalProperties:
                                    type: string
                                  description: CommonLabels is a list of additional
                                    labels to add to rendered manifests
                                  type: object
                                forceCommonAnnotations:
                                  description: ForceCommonAnnotations specifies whether
                                    to force applying common annotations to resources
                                    for Kustomize apps
                                  type: boolean
                                forceCommonLabels:
                                  description: ForceCommonLabels specifies whether
                                    to force applying common labels to resources for
                                    Kustomize apps
                                  type: boolean
                                images:
                                  description: Images is a list of Kustomize image
                                    override specifications
                                  items:
                                    description: KustomizeImage represents a Kustomize
                                      image definition in the format [old_image_name=]<image_name>:<image_tag>
                                    type: string
                                  type: array
                                namePrefix:
                                  description: NamePrefix is a prefix appended to
                                    resources for Kustomize apps
                                  type: string
                                nameSuffix:
                                  description: NameSuffix is a suffix appended to
                                    resources for Kustomize apps
                                  type: string
                                version:
                                  description: Version controls which version of Kustomize
                                    to use for rendering manifests
                                  type: string
                              type: object
                            path:
                              description: Path is a directory path within the Git
                                repository, and is only valid for applications sourced
                                from Git.
                              type: string
                            plugin:
                              description: Plugin holds config management plugin specific
                                options
                              properties:
                                env:
                                  description: Env is a list of environment variable
                                    entries
                                  items:
                                    description: EnvEntry represents an entry in the
                                      application's environment
                                    properties:
                                      name:
                                        description: Name is the name of the variable,
                                          usually expressed in uppercase
                                        type: string
                                      value:
                                        description: Value is the value of the variable
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  type: array
                                name:
                                  type: string
                              type: object
                            repoURL:
                              description: RepoURL is the URL to the repository (Git
                                or Helm) that contains the application manifests
                              type: string
                            targetRevision:
                              description: TargetRevision defines the revision of
                                the source to sync the application to. In case of
                                Git, this can be commit, tag, or branch. If omitted,
                                will equal to HEAD. In case of Helm, this is a semver
                                tag for the Chart's version.
                              type: string
                          required:
                          - repoURL
                          type: object
                        syncPolicy:
                          description: SyncPolicy controls when and how a sync will
                            be performed
                          properties:
                            automated:
                              description: Automated will keep an application synced
                                to the target revision
                              properties:
                                allowEmpty:
                                  description: 'AllowEmpty allows apps have zero live
                                    resources (default: false)'
                                  type: boolean
                                prune:
                                  description: 'Prune specifies whether to delete
                                    resources from the cluster that are not found
                                    in the sources anymore as part of automated sync
                                    (default: false)'
                                  type: boolean
                                selfHeal:
                                  description: 'SelfHeal specifes whether to revert
                                    resources back to their desired state upon modification
                                    in the cluster (default: false)'
                                  type: boolean
                              type: object
                            retry:
                              description: Retry controls failed sync retry behavior
                              properties:
                                backoff:
                                  description: Backoff controls how to backoff on
                                    subsequent retries of failed syncs
                                  properties:
                                    duration:
                                      description: Duration is the amount to back
                                        off. Default unit is seconds, but could also
                                        be a duration (e.g. "2m", "1h")
                                      type: string
                                    factor:
                                      description: Factor is a factor to multiply
                                        the base duration after each failed retry
                                      format: int64
                                      type: integer
                                    maxDuration:
                                      description: MaxDuration is the maximum amount
                                        of time allowed for the backoff strategy
                                      type: string
                                  type: object
                                limit:
                                  description: Limit is the maximum number of attempts
                                    for retrying a failed sync. If set to 0, no retries
                                    will be performed.
                                  format: int64
                                  type: integer
                              type: object
                            syncOptions:
                              description: Options allow you to specify whole app
                                sync-options
                              items:
                                type: string
                              type: array
                          type: object
                      required:
                      - destination
                      - project
                      - source
                      type: object
                  required:
                  - name
                  - spec
                  type: object
                type: array
              cost:
                description: Cost of the cluster, used for quotas
                minimum: 0
                type: integer
            required:
            - argocdNamespace
            - clusterDefinition
            - cost
            type: object
          status:
            description: ClusterTemplateStatus defines the observed state of ClusterTemplate
            properties:
              clusterDefinition:
                description: Describes helm chart properties and their schema
                properties:
                  schema:
                    description: Content of helm chart values.schema.json
                    type: string
                  values:
                    description: Content of helm chart values.yaml
                    type: string
                type: object
              clusterSetup:
                description: Describes helm chart properties and schema for every
                  cluster setup step
                items:
                  properties:
                    name:
                      description: Name of the cluster setup step
                      type: string
                    schema:
                      description: Content of helm chart values.schema.json
                      type: string
                    values:
                      description: Content of helm chart values.yaml
                      type: string
                  required:
                  - name
                  type: object
                type: array
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
