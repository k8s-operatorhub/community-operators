# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "trustifies.org.trustify"
spec:
  group: "org.trustify"
  names:
    kind: "Trustify"
    plural: "trustifies"
    singular: "trustify"
  scope: "Namespaced"
  versions:
  - name: "v1alpha1"
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              db:
                description: "In this section you can find all properties related\
                  \ to connect to a database."
                properties:
                  embedded:
                    properties:
                      pvcSize:
                        description: "Size of the PVC to create. Valid only if externalDatabase=false"
                        type: "string"
                      resources:
                        description: "In this section you can configure resource limits\
                          \ settings. Valid only if externalDatabase=false"
                        properties:
                          cpuLimit:
                            description: "Limit CPU."
                            type: "string"
                          cpuRequest:
                            description: "Requested CPU."
                            type: "string"
                          memoryLimit:
                            description: "Limit Memory."
                            type: "string"
                          memoryRequest:
                            description: "Requested memory."
                            type: "string"
                        type: "object"
                    type: "object"
                  external:
                    properties:
                      host:
                        description: "The host of the database."
                        type: "string"
                      name:
                        description: "The database name."
                        type: "string"
                      passwordSecret:
                        description: "The reference to a secret holding the password\
                          \ of the database user."
                        properties:
                          key:
                            type: "string"
                          name:
                            type: "string"
                          optional:
                            type: "boolean"
                        type: "object"
                      poolMaxSize:
                        description: "The maximum size of the connection pool."
                        type: "integer"
                      poolMinSize:
                        description: "The minimal size of the connection pool."
                        type: "integer"
                      port:
                        description: "The port of the database."
                        type: "string"
                      sslMode:
                        description: "default: prefer [possible values: disable, allow,\
                          \ prefer, require, verify-ca, verify-full]"
                        type: "string"
                      usernameSecret:
                        description: "The reference to a secret holding the username\
                          \ of the database user."
                        properties:
                          key:
                            type: "string"
                          name:
                            type: "string"
                          optional:
                            type: "boolean"
                        type: "object"
                    type: "object"
                  externalDatabase:
                    description: "Use external database."
                    type: "boolean"
                type: "object"
              dbImage:
                description: "Custom Trustify DB Server image to be used. For internal\
                  \ use only"
                type: "string"
              hostname:
                description: "In this section you can configure hostname and related\
                  \ properties."
                properties:
                  hostname:
                    description: "Hostname for the server."
                    type: "string"
                type: "object"
              http:
                description: "In this section you can configure features related to\
                  \ HTTP and HTTPS"
                properties:
                  tlsSecret:
                    description: "A secret containing the TLS configuration for HTTPS.\
                      \ Reference: https://kubernetes.io/docs/concepts/configuration/secret/#tls-secrets."
                    type: "string"
                type: "object"
              imagePullPolicy:
                description: "Custom Image Pull Policy for images managed by the Operator"
                type: "string"
              imagePullSecrets:
                description: "Secret(s) that might be used when pulling an image from\
                  \ a private container image registry or repository."
                items:
                  properties:
                    name:
                      type: "string"
                  type: "object"
                type: "array"
              importerInstances:
                description: "Number of Importer instances. Default is 1."
                type: "integer"
              importerResources:
                description: "In this section you can configure resource limits settings\
                  \ for the Importer."
                properties:
                  cpuLimit:
                    description: "Limit CPU."
                    type: "string"
                  cpuRequest:
                    description: "Requested CPU."
                    type: "string"
                  memoryLimit:
                    description: "Limit Memory."
                    type: "string"
                  memoryRequest:
                    description: "Requested memory."
                    type: "string"
                type: "object"
              importerWorkdirPvcSize:
                description: "Size of the PVC for each importer to use"
                type: "string"
              oidc:
                description: "In this section you can configure Oidc settings."
                properties:
                  embedded:
                    properties:
                      db:
                        description: "In this section you can find all properties\
                          \ related to connect to a database."
                        properties:
                          embedded:
                            properties:
                              pvcSize:
                                description: "Size of the PVC to create. Valid only\
                                  \ if externalDatabase=false"
                                type: "string"
                              resources:
                                description: "In this section you can configure resource\
                                  \ limits settings. Valid only if externalDatabase=false"
                                properties:
                                  cpuLimit:
                                    description: "Limit CPU."
                                    type: "string"
                                  cpuRequest:
                                    description: "Requested CPU."
                                    type: "string"
                                  memoryLimit:
                                    description: "Limit Memory."
                                    type: "string"
                                  memoryRequest:
                                    description: "Requested memory."
                                    type: "string"
                                type: "object"
                            type: "object"
                          external:
                            properties:
                              host:
                                description: "The host of the database."
                                type: "string"
                              name:
                                description: "The database name."
                                type: "string"
                              passwordSecret:
                                description: "The reference to a secret holding the\
                                  \ password of the database user."
                                properties:
                                  key:
                                    type: "string"
                                  name:
                                    type: "string"
                                  optional:
                                    type: "boolean"
                                type: "object"
                              port:
                                description: "The port of the database."
                                type: "string"
                              usernameSecret:
                                description: "The reference to a secret holding the\
                                  \ username of the database user."
                                properties:
                                  key:
                                    type: "string"
                                  name:
                                    type: "string"
                                  optional:
                                    type: "boolean"
                                type: "object"
                              vendor:
                                description: "The database vendor. E.g. 'postgres'"
                                type: "string"
                            type: "object"
                          externalDatabase:
                            description: "Use external database."
                            type: "boolean"
                        type: "object"
                      tlsSecret:
                        description: "A secret containing the TLS configuration for\
                          \ OIDC - HTTPS. Reference: https://kubernetes.io/docs/concepts/configuration/secret/#tls-secrets."
                        type: "string"
                    type: "object"
                  enabled:
                    description: "Enable Auth."
                    type: "boolean"
                  external:
                    properties:
                      serverUrl:
                        description: "Oidc server url."
                        type: "string"
                      tlsSecret:
                        description: "A secret containing the TLS configuration for\
                          \ OIDC - HTTPS. Reference: https://kubernetes.io/docs/concepts/configuration/secret/#tls-secrets."
                        type: "string"
                      uiClientId:
                        description: "Oidc client id for the UI."
                        type: "string"
                    type: "object"
                  externalServer:
                    description: "Whether or not the user will provide its own OIDC\
                      \ Server. If 'false', the operator will provide a OIDC Server"
                    type: "boolean"
                type: "object"
              serverImage:
                description: "Custom Trustify Server image to be used. For internal\
                  \ use only"
                type: "string"
              serverInstances:
                description: "Number of Server instances. Default is 1."
                type: "integer"
              serverResources:
                description: "In this section you can configure resource limits settings\
                  \ for the Server."
                properties:
                  cpuLimit:
                    description: "Limit CPU."
                    type: "string"
                  cpuRequest:
                    description: "Requested CPU."
                    type: "string"
                  memoryLimit:
                    description: "Limit Memory."
                    type: "string"
                  memoryRequest:
                    description: "Requested memory."
                    type: "string"
                type: "object"
              storage:
                description: "In this section you can configure Storage settings."
                properties:
                  compression:
                    description: "Storage compression."
                    enum:
                    - "NONE"
                    - "ZSTD"
                    type: "string"
                  filesystem:
                    properties:
                      pvcSize:
                        description: "Size of the PVC to create."
                        type: "string"
                    type: "object"
                  s3:
                    properties:
                      accessKey:
                        description: "Access key."
                        type: "string"
                      bucket:
                        description: "Bucket name."
                        type: "string"
                      region:
                        description: "Region name."
                        type: "string"
                      secretKey:
                        description: "Secret key."
                        type: "string"
                    type: "object"
                  type:
                    description: "Storage type."
                    enum:
                    - "FILESYSTEM"
                    - "S3"
                    type: "string"
                type: "object"
              uiImage:
                description: "Custom Trustify UI image to be used. For internal use\
                  \ only"
                type: "string"
              uiInstances:
                description: "Number of UI instances. Default is 1."
                type: "integer"
              uiResources:
                description: "In this section you can configure resource limits settings\
                  \ for the UI."
                properties:
                  cpuLimit:
                    description: "Limit CPU."
                    type: "string"
                  cpuRequest:
                    description: "Requested CPU."
                    type: "string"
                  memoryLimit:
                    description: "Limit Memory."
                    type: "string"
                  memoryRequest:
                    description: "Requested memory."
                    type: "string"
                type: "object"
            type: "object"
          status:
            properties:
              conditions:
                items:
                  properties:
                    status:
                      type: "string"
                    type:
                      type: "string"
                  type: "object"
                type: "array"
            type: "object"
        type: "object"
    served: true
    storage: true
    subresources:
      status: {}
