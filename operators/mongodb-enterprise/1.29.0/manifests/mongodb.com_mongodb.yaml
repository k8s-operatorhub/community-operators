apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.15.0
  creationTimestamp: null
  name: mongodb.mongodb.com
spec:
  group: mongodb.com
  names:
    kind: MongoDB
    listKind: MongoDBList
    plural: mongodb
    shortNames:
    - mdb
    singular: mongodb
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Current state of the MongoDB deployment.
      jsonPath: .status.phase
      name: Phase
      type: string
    - description: Version of MongoDB server.
      jsonPath: .status.version
      name: Version
      type: string
    - description: The type of MongoDB deployment. One of 'ReplicaSet', 'ShardedCluster'
        and 'Standalone'.
      jsonPath: .spec.type
      name: Type
      type: string
    - description: The time since the MongoDB resource was created.
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            properties:
              additionalMongodConfig:
                description: |-
                  AdditionalMongodConfig is additional configuration that can be passed to
                  each data-bearing mongod at runtime. Uses the same structure as the mongod
                  configuration file:
                  https://docs.mongodb.com/manual/reference/configuration-options/
                type: object
                x-kubernetes-preserve-unknown-fields: true
              agent:
                properties:
                  backupAgent:
                    properties:
                      logRotate:
                        description: LogRotate configures log rotation for the BackupAgent
                          processes
                        properties:
                          sizeThresholdMB:
                            description: |-
                              Maximum size for an individual log file before rotation.
                              OM only supports ints
                            type: integer
                          timeThresholdHrs:
                            description: Number of hours after which this MongoDB
                              Agent rotates the log file.
                            type: integer
                        type: object
                    type: object
                  logLevel:
                    type: string
                  logRotate:
                    description: DEPRECATED please use mongod.logRotate
                    properties:
                      includeAuditLogsWithMongoDBLogs:
                        description: |-
                          set to 'true' to have the Automation Agent rotate the audit files along
                          with mongodb log files
                        type: boolean
                      numTotal:
                        description: maximum number of log files to have total
                        type: integer
                      numUncompressed:
                        description: maximum number of log files to leave uncompressed
                        type: integer
                      percentOfDiskspace:
                        description: |-
                          Maximum percentage of the total disk space these log files should take up.
                          The string needs to be able to be converted to float64
                        type: string
                      sizeThresholdMB:
                        description: |-
                          Maximum size for an individual log file before rotation.
                          The string needs to be able to be converted to float64.
                          Fractional values of MB are supported.
                        type: string
                      timeThresholdHrs:
                        description: maximum hours for an individual log file before
                          rotation
                        type: integer
                    required:
                    - sizeThresholdMB
                    - timeThresholdHrs
                    type: object
                  maxLogFileDurationHours:
                    type: integer
                  mongod:
                    description: AgentLoggingMongodConfig contain settings for the
                      mongodb processes configured by the agent
                    properties:
                      auditlogRotate:
                        description: LogRotate configures audit log rotation for the
                          mongodb processes
                        properties:
                          includeAuditLogsWithMongoDBLogs:
                            description: |-
                              set to 'true' to have the Automation Agent rotate the audit files along
                              with mongodb log files
                            type: boolean
                          numTotal:
                            description: maximum number of log files to have total
                            type: integer
                          numUncompressed:
                            description: maximum number of log files to leave uncompressed
                            type: integer
                          percentOfDiskspace:
                            description: |-
                              Maximum percentage of the total disk space these log files should take up.
                              The string needs to be able to be converted to float64
                            type: string
                          sizeThresholdMB:
                            description: |-
                              Maximum size for an individual log file before rotation.
                              The string needs to be able to be converted to float64.
                              Fractional values of MB are supported.
                            type: string
                          timeThresholdHrs:
                            description: maximum hours for an individual log file
                              before rotation
                            type: integer
                        required:
                        - sizeThresholdMB
                        - timeThresholdHrs
                        type: object
                      logRotate:
                        description: LogRotate configures log rotation for the mongodb
                          processes
                        properties:
                          includeAuditLogsWithMongoDBLogs:
                            description: |-
                              set to 'true' to have the Automation Agent rotate the audit files along
                              with mongodb log files
                            type: boolean
                          numTotal:
                            description: maximum number of log files to have total
                            type: integer
                          numUncompressed:
                            description: maximum number of log files to leave uncompressed
                            type: integer
                          percentOfDiskspace:
                            description: |-
                              Maximum percentage of the total disk space these log files should take up.
                              The string needs to be able to be converted to float64
                            type: string
                          sizeThresholdMB:
                            description: |-
                              Maximum size for an individual log file before rotation.
                              The string needs to be able to be converted to float64.
                              Fractional values of MB are supported.
                            type: string
                          timeThresholdHrs:
                            description: maximum hours for an individual log file
                              before rotation
                            type: integer
                        required:
                        - sizeThresholdMB
                        - timeThresholdHrs
                        type: object
                      systemLog:
                        description: SystemLog configures system log of mongod
                        properties:
                          destination:
                            type: string
                          logAppend:
                            type: boolean
                          path:
                            type: string
                        required:
                        - destination
                        - logAppend
                        - path
                        type: object
                    type: object
                  monitoringAgent:
                    properties:
                      logRotate:
                        description: LogRotate configures log rotation for the BackupAgent
                          processes
                        properties:
                          sizeThresholdMB:
                            description: |-
                              Maximum size for an individual log file before rotation.
                              OM only supports ints
                            type: integer
                          timeThresholdHrs:
                            description: Number of hours after which this MongoDB
                              Agent rotates the log file.
                            type: integer
                        type: object
                    type: object
                  readinessProbe:
                    properties:
                      environmentVariables:
                        additionalProperties:
                          type: string
                        type: object
                    type: object
                  startupOptions:
                    additionalProperties:
                      type: string
                    description: |-
                      StartupParameters can be used to configure the startup parameters with which the agent starts. That also contains
                      log rotation settings as defined here:
                    type: object
                  systemLog:
                    description: DEPRECATED please use mongod.systemLog
                    properties:
                      destination:
                        type: string
                      logAppend:
                        type: boolean
                      path:
                        type: string
                    required:
                    - destination
                    - logAppend
                    - path
                    type: object
                type: object
              backup:
                description: |-
                  Backup contains configuration options for configuring
                  backup for this MongoDB resource
                properties:
                  assignmentLabels:
                    description: Assignment Labels set in the Ops Manager
                    items:
                      type: string
                    type: array
                  autoTerminateOnDeletion:
                    description: |-
                      AutoTerminateOnDeletion indicates if the Operator should stop and terminate the Backup before the cleanup,
                      when the MongoDB CR is deleted
                    type: boolean
                  encryption:
                    description: Encryption settings
                    properties:
                      kmip:
                        description: Kmip corresponds to the KMIP configuration assigned
                          to the Ops Manager Project's configuration.
                        properties:
                          client:
                            description: KMIP Client configuration
                            properties:
                              clientCertificatePrefix:
                                description: |-
                                  A prefix used to construct KMIP client certificate (and corresponding password) Secret names.
                                  The names are generated using the following pattern:
                                  KMIP Client Certificate (TLS Secret):
                                    <clientCertificatePrefix>-<CR Name>-kmip-client
                                  KMIP Client Certificate Password:
                                    <clientCertificatePrefix>-<CR Name>-kmip-client-password
                                    The expected key inside is called "password".
                                type: string
                            type: object
                        required:
                        - client
                        type: object
                    type: object
                  mode:
                    enum:
                    - enabled
                    - disabled
                    - terminated
                    type: string
                  snapshotSchedule:
                    properties:
                      clusterCheckpointIntervalMin:
                        enum:
                        - 15
                        - 30
                        - 60
                        type: integer
                      dailySnapshotRetentionDays:
                        description: Number of days to retain daily snapshots. Setting
                          0 will disable this rule.
                        maximum: 365
                        minimum: 0
                        type: integer
                      fullIncrementalDayOfWeek:
                        description: Day of the week when Ops Manager takes a full
                          snapshot. This ensures a recent complete backup. Ops Manager
                          sets the default value to SUNDAY.
                        enum:
                        - SUNDAY
                        - MONDAY
                        - TUESDAY
                        - WEDNESDAY
                        - THURSDAY
                        - FRIDAY
                        - SATURDAY
                        type: string
                      monthlySnapshotRetentionMonths:
                        description: Number of months to retain weekly snapshots.
                          Setting 0 will disable this rule.
                        maximum: 36
                        minimum: 0
                        type: integer
                      pointInTimeWindowHours:
                        description: Number of hours in the past for which a point-in-time
                          snapshot can be created.
                        enum:
                        - 1
                        - 2
                        - 3
                        - 4
                        - 5
                        - 6
                        - 7
                        - 15
                        - 30
                        - 60
                        - 90
                        - 120
                        - 180
                        - 360
                        type: integer
                      referenceHourOfDay:
                        description: Hour of the day to schedule snapshots using a
                          24-hour clock, in UTC.
                        maximum: 23
                        minimum: 0
                        type: integer
                      referenceMinuteOfHour:
                        description: Minute of the hour to schedule snapshots, in
                          UTC.
                        maximum: 59
                        minimum: 0
                        type: integer
                      snapshotIntervalHours:
                        description: Number of hours between snapshots.
                        enum:
                        - 6
                        - 8
                        - 12
                        - 24
                        type: integer
                      snapshotRetentionDays:
                        description: Number of days to keep recent snapshots.
                        maximum: 365
                        minimum: 1
                        type: integer
                      weeklySnapshotRetentionWeeks:
                        description: Number of weeks to retain weekly snapshots. Setting
                          0 will disable this rule
                        maximum: 365
                        minimum: 0
                        type: integer
                    type: object
                type: object
              cloudManager:
                properties:
                  configMapRef:
                    properties:
                      name:
                        type: string
                    type: object
                type: object
              clusterDomain:
                format: hostname
                type: string
              configServerCount:
                type: integer
              configSrv:
                properties:
                  additionalMongodConfig:
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                  agent:
                    description: |-
                      Configuring logRotation is not allowed under this section.
                      Please use the most top level resource fields for this; spec.Agent
                    properties:
                      backupAgent:
                        properties:
                          logRotate:
                            description: LogRotate configures log rotation for the
                              BackupAgent processes
                            properties:
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  OM only supports ints
                                type: integer
                              timeThresholdHrs:
                                description: Number of hours after which this MongoDB
                                  Agent rotates the log file.
                                type: integer
                            type: object
                        type: object
                      logLevel:
                        type: string
                      logRotate:
                        description: DEPRECATED please use mongod.logRotate
                        properties:
                          includeAuditLogsWithMongoDBLogs:
                            description: |-
                              set to 'true' to have the Automation Agent rotate the audit files along
                              with mongodb log files
                            type: boolean
                          numTotal:
                            description: maximum number of log files to have total
                            type: integer
                          numUncompressed:
                            description: maximum number of log files to leave uncompressed
                            type: integer
                          percentOfDiskspace:
                            description: |-
                              Maximum percentage of the total disk space these log files should take up.
                              The string needs to be able to be converted to float64
                            type: string
                          sizeThresholdMB:
                            description: |-
                              Maximum size for an individual log file before rotation.
                              The string needs to be able to be converted to float64.
                              Fractional values of MB are supported.
                            type: string
                          timeThresholdHrs:
                            description: maximum hours for an individual log file
                              before rotation
                            type: integer
                        required:
                        - sizeThresholdMB
                        - timeThresholdHrs
                        type: object
                      maxLogFileDurationHours:
                        type: integer
                      mongod:
                        description: AgentLoggingMongodConfig contain settings for
                          the mongodb processes configured by the agent
                        properties:
                          auditlogRotate:
                            description: LogRotate configures audit log rotation for
                              the mongodb processes
                            properties:
                              includeAuditLogsWithMongoDBLogs:
                                description: |-
                                  set to 'true' to have the Automation Agent rotate the audit files along
                                  with mongodb log files
                                type: boolean
                              numTotal:
                                description: maximum number of log files to have total
                                type: integer
                              numUncompressed:
                                description: maximum number of log files to leave
                                  uncompressed
                                type: integer
                              percentOfDiskspace:
                                description: |-
                                  Maximum percentage of the total disk space these log files should take up.
                                  The string needs to be able to be converted to float64
                                type: string
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  The string needs to be able to be converted to float64.
                                  Fractional values of MB are supported.
                                type: string
                              timeThresholdHrs:
                                description: maximum hours for an individual log file
                                  before rotation
                                type: integer
                            required:
                            - sizeThresholdMB
                            - timeThresholdHrs
                            type: object
                          logRotate:
                            description: LogRotate configures log rotation for the
                              mongodb processes
                            properties:
                              includeAuditLogsWithMongoDBLogs:
                                description: |-
                                  set to 'true' to have the Automation Agent rotate the audit files along
                                  with mongodb log files
                                type: boolean
                              numTotal:
                                description: maximum number of log files to have total
                                type: integer
                              numUncompressed:
                                description: maximum number of log files to leave
                                  uncompressed
                                type: integer
                              percentOfDiskspace:
                                description: |-
                                  Maximum percentage of the total disk space these log files should take up.
                                  The string needs to be able to be converted to float64
                                type: string
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  The string needs to be able to be converted to float64.
                                  Fractional values of MB are supported.
                                type: string
                              timeThresholdHrs:
                                description: maximum hours for an individual log file
                                  before rotation
                                type: integer
                            required:
                            - sizeThresholdMB
                            - timeThresholdHrs
                            type: object
                          systemLog:
                            description: SystemLog configures system log of mongod
                            properties:
                              destination:
                                type: string
                              logAppend:
                                type: boolean
                              path:
                                type: string
                            required:
                            - destination
                            - logAppend
                            - path
                            type: object
                        type: object
                      monitoringAgent:
                        properties:
                          logRotate:
                            description: LogRotate configures log rotation for the
                              BackupAgent processes
                            properties:
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  OM only supports ints
                                type: integer
                              timeThresholdHrs:
                                description: Number of hours after which this MongoDB
                                  Agent rotates the log file.
                                type: integer
                            type: object
                        type: object
                      readinessProbe:
                        properties:
                          environmentVariables:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                      startupOptions:
                        additionalProperties:
                          type: string
                        description: |-
                          StartupParameters can be used to configure the startup parameters with which the agent starts. That also contains
                          log rotation settings as defined here:
                        type: object
                      systemLog:
                        description: DEPRECATED please use mongod.systemLog
                        properties:
                          destination:
                            type: string
                          logAppend:
                            type: boolean
                          path:
                            type: string
                        required:
                        - destination
                        - logAppend
                        - path
                        type: object
                    type: object
                  clusterSpecList:
                    items:
                      description: |-
                        ClusterSpecItem is the mongodb multi-cluster spec that is specific to a
                        particular Kubernetes cluster, this maps to the statefulset created in each cluster
                      properties:
                        clusterName:
                          description: |-
                            ClusterName is name of the cluster where the MongoDB Statefulset will be scheduled, the
                            name should have a one on one mapping with the service-account created in the central cluster
                            to talk to the workload clusters.
                          type: string
                        externalAccess:
                          description: ExternalAccessConfiguration provides external
                            access configuration for Multi-Cluster.
                          properties:
                            externalDomain:
                              description: An external domain that is used for exposing
                                MongoDB to the outside world.
                              type: string
                            externalService:
                              description: Provides a way to override the default
                                (NodePort) Service
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  description: A map of annotations that shall be
                                    added to the externally available Service.
                                  type: object
                                spec:
                                  description: A wrapper for the Service spec object.
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                          type: object
                        memberConfig:
                          description: MemberConfig allows to specify votes, priorities
                            and tags for each of the mongodb process.
                          items:
                            properties:
                              priority:
                                type: string
                              tags:
                                additionalProperties:
                                  type: string
                                type: object
                              votes:
                                type: integer
                            type: object
                          type: array
                        members:
                          description: Amount of members for this MongoDB Replica
                            Set
                          type: integer
                        podSpec:
                          properties:
                            persistence:
                              description: Note, that this field is used by MongoDB
                                resources only, let's keep it here for simplicity
                              properties:
                                multiple:
                                  properties:
                                    data:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                    journal:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                    logs:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                  type: object
                                single:
                                  properties:
                                    labelSelector:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    storage:
                                      type: string
                                    storageClass:
                                      type: string
                                  type: object
                              type: object
                            podTemplate:
                              type: object
                              x-kubernetes-preserve-unknown-fields: true
                          type: object
                        service:
                          description: this is an optional service, it will get the
                            name "<rsName>-service" in case not provided
                          type: string
                        statefulSet:
                          description: |-
                            StatefulSetConfiguration holds the optional custom StatefulSet
                            that should be merged into the operator created one.
                          properties:
                            metadata:
                              description: StatefulSetMetadataWrapper is a wrapper
                                around Labels and Annotations
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  type: object
                                labels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              type: object
                            spec:
                              type: object
                              x-kubernetes-preserve-unknown-fields: true
                          required:
                          - spec
                          type: object
                      required:
                      - members
                      type: object
                    type: array
                type: object
                x-kubernetes-preserve-unknown-fields: true
              configSrvPodSpec:
                properties:
                  persistence:
                    description: Note, that this field is used by MongoDB resources
                      only, let's keep it here for simplicity
                    properties:
                      multiple:
                        properties:
                          data:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                          journal:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                          logs:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                        type: object
                      single:
                        properties:
                          labelSelector:
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          storage:
                            type: string
                          storageClass:
                            type: string
                        type: object
                    type: object
                  podTemplate:
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                type: object
              connectivity:
                properties:
                  replicaSetHorizons:
                    description: |-
                      ReplicaSetHorizons holds list of maps of horizons to be configured in each of MongoDB processes.
                      Horizons map horizon names to the node addresses for each process in the replicaset, e.g.:
                       [
                         {
                           "internal": "my-rs-0.my-internal-domain.com:31843",
                           "external": "my-rs-0.my-external-domain.com:21467"
                         },
                         {
                           "internal": "my-rs-1.my-internal-domain.com:31843",
                           "external": "my-rs-1.my-external-domain.com:21467"
                         },
                         ...
                       ]
                      The key of each item in the map is an arbitrary, user-chosen string that
                      represents the name of the horizon. The value of the item is the host and,
                      optionally, the port that this mongod node will be connected to from.
                    items:
                      additionalProperties:
                        type: string
                      type: object
                    type: array
                type: object
              credentials:
                description: Name of the Secret holding credentials information
                type: string
              duplicateServiceObjects:
                description: |-
                  In few service mesh options for ex: Istio, by default we would need to duplicate the
                  service objects created per pod in all the clusters to enable DNS resolution. Users can
                  however configure their ServiceMesh with DNS proxy(https://istio.io/latest/docs/ops/configuration/traffic-management/dns-proxy/)
                  enabled in which case the operator doesn't need to create the service objects per cluster. This options tells the operator
                  whether it should create the service objects in all the clusters or not. By default, if not specified the operator would create the duplicate svc objects.
                type: boolean
              externalAccess:
                description: ExternalAccessConfiguration provides external access
                  configuration.
                properties:
                  externalDomain:
                    description: An external domain that is used for exposing MongoDB
                      to the outside world.
                    type: string
                  externalService:
                    description: Provides a way to override the default (NodePort)
                      Service
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: A map of annotations that shall be added to the
                          externally available Service.
                        type: object
                      spec:
                        description: A wrapper for the Service spec object.
                        type: object
                        x-kubernetes-preserve-unknown-fields: true
                    type: object
                type: object
              featureCompatibilityVersion:
                type: string
              logLevel:
                enum:
                - DEBUG
                - INFO
                - WARN
                - ERROR
                - FATAL
                type: string
              memberConfig:
                description: MemberConfig allows to specify votes, priorities and
                  tags for each of the mongodb process.
                items:
                  properties:
                    priority:
                      type: string
                    tags:
                      additionalProperties:
                        type: string
                      type: object
                    votes:
                      type: integer
                  type: object
                type: array
                x-kubernetes-preserve-unknown-fields: true
              members:
                description: Amount of members for this MongoDB Replica Set
                type: integer
              mongodsPerShardCount:
                type: integer
              mongos:
                properties:
                  additionalMongodConfig:
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                  agent:
                    description: |-
                      Configuring logRotation is not allowed under this section.
                      Please use the most top level resource fields for this; spec.Agent
                    properties:
                      backupAgent:
                        properties:
                          logRotate:
                            description: LogRotate configures log rotation for the
                              BackupAgent processes
                            properties:
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  OM only supports ints
                                type: integer
                              timeThresholdHrs:
                                description: Number of hours after which this MongoDB
                                  Agent rotates the log file.
                                type: integer
                            type: object
                        type: object
                      logLevel:
                        type: string
                      logRotate:
                        description: DEPRECATED please use mongod.logRotate
                        properties:
                          includeAuditLogsWithMongoDBLogs:
                            description: |-
                              set to 'true' to have the Automation Agent rotate the audit files along
                              with mongodb log files
                            type: boolean
                          numTotal:
                            description: maximum number of log files to have total
                            type: integer
                          numUncompressed:
                            description: maximum number of log files to leave uncompressed
                            type: integer
                          percentOfDiskspace:
                            description: |-
                              Maximum percentage of the total disk space these log files should take up.
                              The string needs to be able to be converted to float64
                            type: string
                          sizeThresholdMB:
                            description: |-
                              Maximum size for an individual log file before rotation.
                              The string needs to be able to be converted to float64.
                              Fractional values of MB are supported.
                            type: string
                          timeThresholdHrs:
                            description: maximum hours for an individual log file
                              before rotation
                            type: integer
                        required:
                        - sizeThresholdMB
                        - timeThresholdHrs
                        type: object
                      maxLogFileDurationHours:
                        type: integer
                      mongod:
                        description: AgentLoggingMongodConfig contain settings for
                          the mongodb processes configured by the agent
                        properties:
                          auditlogRotate:
                            description: LogRotate configures audit log rotation for
                              the mongodb processes
                            properties:
                              includeAuditLogsWithMongoDBLogs:
                                description: |-
                                  set to 'true' to have the Automation Agent rotate the audit files along
                                  with mongodb log files
                                type: boolean
                              numTotal:
                                description: maximum number of log files to have total
                                type: integer
                              numUncompressed:
                                description: maximum number of log files to leave
                                  uncompressed
                                type: integer
                              percentOfDiskspace:
                                description: |-
                                  Maximum percentage of the total disk space these log files should take up.
                                  The string needs to be able to be converted to float64
                                type: string
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  The string needs to be able to be converted to float64.
                                  Fractional values of MB are supported.
                                type: string
                              timeThresholdHrs:
                                description: maximum hours for an individual log file
                                  before rotation
                                type: integer
                            required:
                            - sizeThresholdMB
                            - timeThresholdHrs
                            type: object
                          logRotate:
                            description: LogRotate configures log rotation for the
                              mongodb processes
                            properties:
                              includeAuditLogsWithMongoDBLogs:
                                description: |-
                                  set to 'true' to have the Automation Agent rotate the audit files along
                                  with mongodb log files
                                type: boolean
                              numTotal:
                                description: maximum number of log files to have total
                                type: integer
                              numUncompressed:
                                description: maximum number of log files to leave
                                  uncompressed
                                type: integer
                              percentOfDiskspace:
                                description: |-
                                  Maximum percentage of the total disk space these log files should take up.
                                  The string needs to be able to be converted to float64
                                type: string
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  The string needs to be able to be converted to float64.
                                  Fractional values of MB are supported.
                                type: string
                              timeThresholdHrs:
                                description: maximum hours for an individual log file
                                  before rotation
                                type: integer
                            required:
                            - sizeThresholdMB
                            - timeThresholdHrs
                            type: object
                          systemLog:
                            description: SystemLog configures system log of mongod
                            properties:
                              destination:
                                type: string
                              logAppend:
                                type: boolean
                              path:
                                type: string
                            required:
                            - destination
                            - logAppend
                            - path
                            type: object
                        type: object
                      monitoringAgent:
                        properties:
                          logRotate:
                            description: LogRotate configures log rotation for the
                              BackupAgent processes
                            properties:
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  OM only supports ints
                                type: integer
                              timeThresholdHrs:
                                description: Number of hours after which this MongoDB
                                  Agent rotates the log file.
                                type: integer
                            type: object
                        type: object
                      readinessProbe:
                        properties:
                          environmentVariables:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                      startupOptions:
                        additionalProperties:
                          type: string
                        description: |-
                          StartupParameters can be used to configure the startup parameters with which the agent starts. That also contains
                          log rotation settings as defined here:
                        type: object
                      systemLog:
                        description: DEPRECATED please use mongod.systemLog
                        properties:
                          destination:
                            type: string
                          logAppend:
                            type: boolean
                          path:
                            type: string
                        required:
                        - destination
                        - logAppend
                        - path
                        type: object
                    type: object
                  clusterSpecList:
                    items:
                      description: |-
                        ClusterSpecItem is the mongodb multi-cluster spec that is specific to a
                        particular Kubernetes cluster, this maps to the statefulset created in each cluster
                      properties:
                        clusterName:
                          description: |-
                            ClusterName is name of the cluster where the MongoDB Statefulset will be scheduled, the
                            name should have a one on one mapping with the service-account created in the central cluster
                            to talk to the workload clusters.
                          type: string
                        externalAccess:
                          description: ExternalAccessConfiguration provides external
                            access configuration for Multi-Cluster.
                          properties:
                            externalDomain:
                              description: An external domain that is used for exposing
                                MongoDB to the outside world.
                              type: string
                            externalService:
                              description: Provides a way to override the default
                                (NodePort) Service
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  description: A map of annotations that shall be
                                    added to the externally available Service.
                                  type: object
                                spec:
                                  description: A wrapper for the Service spec object.
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                          type: object
                        memberConfig:
                          description: MemberConfig allows to specify votes, priorities
                            and tags for each of the mongodb process.
                          items:
                            properties:
                              priority:
                                type: string
                              tags:
                                additionalProperties:
                                  type: string
                                type: object
                              votes:
                                type: integer
                            type: object
                          type: array
                        members:
                          description: Amount of members for this MongoDB Replica
                            Set
                          type: integer
                        podSpec:
                          properties:
                            persistence:
                              description: Note, that this field is used by MongoDB
                                resources only, let's keep it here for simplicity
                              properties:
                                multiple:
                                  properties:
                                    data:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                    journal:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                    logs:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                  type: object
                                single:
                                  properties:
                                    labelSelector:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    storage:
                                      type: string
                                    storageClass:
                                      type: string
                                  type: object
                              type: object
                            podTemplate:
                              type: object
                              x-kubernetes-preserve-unknown-fields: true
                          type: object
                        service:
                          description: this is an optional service, it will get the
                            name "<rsName>-service" in case not provided
                          type: string
                        statefulSet:
                          description: |-
                            StatefulSetConfiguration holds the optional custom StatefulSet
                            that should be merged into the operator created one.
                          properties:
                            metadata:
                              description: StatefulSetMetadataWrapper is a wrapper
                                around Labels and Annotations
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  type: object
                                labels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              type: object
                            spec:
                              type: object
                              x-kubernetes-preserve-unknown-fields: true
                          required:
                          - spec
                          type: object
                      required:
                      - members
                      type: object
                    type: array
                type: object
                x-kubernetes-preserve-unknown-fields: true
              mongosCount:
                type: integer
              mongosPodSpec:
                properties:
                  persistence:
                    description: Note, that this field is used by MongoDB resources
                      only, let's keep it here for simplicity
                    properties:
                      multiple:
                        properties:
                          data:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                          journal:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                          logs:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                        type: object
                      single:
                        properties:
                          labelSelector:
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          storage:
                            type: string
                          storageClass:
                            type: string
                        type: object
                    type: object
                  podTemplate:
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                type: object
              opsManager:
                properties:
                  configMapRef:
                    properties:
                      name:
                        type: string
                    type: object
                type: object
              persistent:
                type: boolean
              podSpec:
                properties:
                  persistence:
                    description: Note, that this field is used by MongoDB resources
                      only, let's keep it here for simplicity
                    properties:
                      multiple:
                        properties:
                          data:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                          journal:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                          logs:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                        type: object
                      single:
                        properties:
                          labelSelector:
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          storage:
                            type: string
                          storageClass:
                            type: string
                        type: object
                    type: object
                  podTemplate:
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                type: object
              prometheus:
                description: Prometheus configurations.
                properties:
                  metricsPath:
                    description: Indicates path to the metrics endpoint.
                    pattern: ^\/[a-z0-9]+$
                    type: string
                  passwordSecretRef:
                    description: Name of a Secret containing a HTTP Basic Auth Password.
                    properties:
                      key:
                        description: Key is the key in the secret storing this password.
                          Defaults to "password"
                        type: string
                      name:
                        description: Name is the name of the secret storing this user's
                          password
                        type: string
                    required:
                    - name
                    type: object
                  port:
                    description: Port where metrics endpoint will bind to. Defaults
                      to 9216.
                    type: integer
                  tlsSecretKeyRef:
                    description: |-
                      Name of a Secret (type kubernetes.io/tls) holding the certificates to use in the
                      Prometheus endpoint.
                    properties:
                      key:
                        description: Key is the key in the secret storing this password.
                          Defaults to "password"
                        type: string
                      name:
                        description: Name is the name of the secret storing this user's
                          password
                        type: string
                    required:
                    - name
                    type: object
                  username:
                    description: HTTP Basic Auth Username for metrics endpoint.
                    type: string
                required:
                - passwordSecretRef
                - username
                type: object
              security:
                properties:
                  authentication:
                    description: |-
                      Authentication holds various authentication related settings that affect
                      this MongoDB resource.
                    properties:
                      agents:
                        description: Agents contains authentication configuration
                          properties for the agents
                        properties:
                          automationLdapGroupDN:
                            type: string
                          automationPasswordSecretRef:
                            description: SecretKeySelector selects a key of a Secret.
                            properties:
                              key:
                                description: The key of the secret to select from.  Must
                                  be a valid secret key.
                                type: string
                              name:
                                description: |-
                                  Name of the referent.
                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                type: string
                              optional:
                                description: Specify whether the Secret or its key
                                  must be defined
                                type: boolean
                            required:
                            - key
                            type: object
                            x-kubernetes-map-type: atomic
                          automationUserName:
                            type: string
                          clientCertificateSecretRef:
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          mode:
                            description: Mode is the desired Authentication mode that
                              the agents will use
                            type: string
                        required:
                        - mode
                        type: object
                      enabled:
                        type: boolean
                      ignoreUnknownUsers:
                        description: IgnoreUnknownUsers maps to the inverse of auth.authoritativeSet
                        type: boolean
                      internalCluster:
                        type: string
                      ldap:
                        description: LDAP Configuration
                        properties:
                          authzQueryTemplate:
                            type: string
                          bindQueryPasswordSecretRef:
                            properties:
                              name:
                                type: string
                            required:
                            - name
                            type: object
                          bindQueryUser:
                            type: string
                          caConfigMapRef:
                            description: Allows to point at a ConfigMap/key with a
                              CA file to mount on the Pod
                            properties:
                              key:
                                description: The key to select.
                                type: string
                              name:
                                description: |-
                                  Name of the referent.
                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                type: string
                              optional:
                                description: Specify whether the ConfigMap or its
                                  key must be defined
                                type: boolean
                            required:
                            - key
                            type: object
                            x-kubernetes-map-type: atomic
                          servers:
                            items:
                              type: string
                            type: array
                          timeoutMS:
                            type: integer
                          transportSecurity:
                            enum:
                            - tls
                            - none
                            type: string
                          userCacheInvalidationInterval:
                            type: integer
                          userToDNMapping:
                            type: string
                          validateLDAPServerConfig:
                            type: boolean
                        type: object
                      modes:
                        items:
                          enum:
                          - X509
                          - SCRAM
                          - SCRAM-SHA-1
                          - MONGODB-CR
                          - SCRAM-SHA-256
                          - LDAP
                          type: string
                        type: array
                      requireClientTLSAuthentication:
                        description: Clients should present valid TLS certificates
                        type: boolean
                    required:
                    - enabled
                    type: object
                  certsSecretPrefix:
                    type: string
                  roles:
                    items:
                      properties:
                        authenticationRestrictions:
                          items:
                            properties:
                              clientSource:
                                items:
                                  type: string
                                type: array
                              serverAddress:
                                items:
                                  type: string
                                type: array
                            type: object
                          type: array
                        db:
                          type: string
                        privileges:
                          items:
                            properties:
                              actions:
                                items:
                                  type: string
                                type: array
                              resource:
                                properties:
                                  cluster:
                                    type: boolean
                                  collection:
                                    type: string
                                  db:
                                    type: string
                                type: object
                            required:
                            - actions
                            - resource
                            type: object
                          type: array
                        role:
                          type: string
                        roles:
                          items:
                            properties:
                              db:
                                type: string
                              role:
                                type: string
                            required:
                            - db
                            - role
                            type: object
                          type: array
                      required:
                      - db
                      - role
                      type: object
                    type: array
                  tls:
                    properties:
                      additionalCertificateDomains:
                        items:
                          type: string
                        type: array
                      ca:
                        description: |-
                          CA corresponds to a ConfigMap containing an entry for the CA certificate (ca.pem)
                          used to validate the certificates created already.
                        type: string
                      enabled:
                        description: |-
                          DEPRECATED please enable TLS by setting `security.certsSecretPrefix` or `security.tls.secretRef.prefix`.
                          Enables TLS for this resource. This will make the operator try to mount a
                          Secret with a defined name (<resource-name>-cert).
                          This is only used when enabling TLS on a MongoDB resource, and not on the
                          AppDB, where TLS is configured by setting `secretRef.Name`.
                        type: boolean
                    type: object
                type: object
              service:
                description: |-
                  DEPRECATED please use `spec.statefulSet.spec.serviceName` to provide a custom service name.
                  this is an optional service, it will get the name "<rsName>-service" in case not provided
                type: string
              shard:
                properties:
                  additionalMongodConfig:
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                  agent:
                    description: |-
                      Configuring logRotation is not allowed under this section.
                      Please use the most top level resource fields for this; spec.Agent
                    properties:
                      backupAgent:
                        properties:
                          logRotate:
                            description: LogRotate configures log rotation for the
                              BackupAgent processes
                            properties:
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  OM only supports ints
                                type: integer
                              timeThresholdHrs:
                                description: Number of hours after which this MongoDB
                                  Agent rotates the log file.
                                type: integer
                            type: object
                        type: object
                      logLevel:
                        type: string
                      logRotate:
                        description: DEPRECATED please use mongod.logRotate
                        properties:
                          includeAuditLogsWithMongoDBLogs:
                            description: |-
                              set to 'true' to have the Automation Agent rotate the audit files along
                              with mongodb log files
                            type: boolean
                          numTotal:
                            description: maximum number of log files to have total
                            type: integer
                          numUncompressed:
                            description: maximum number of log files to leave uncompressed
                            type: integer
                          percentOfDiskspace:
                            description: |-
                              Maximum percentage of the total disk space these log files should take up.
                              The string needs to be able to be converted to float64
                            type: string
                          sizeThresholdMB:
                            description: |-
                              Maximum size for an individual log file before rotation.
                              The string needs to be able to be converted to float64.
                              Fractional values of MB are supported.
                            type: string
                          timeThresholdHrs:
                            description: maximum hours for an individual log file
                              before rotation
                            type: integer
                        required:
                        - sizeThresholdMB
                        - timeThresholdHrs
                        type: object
                      maxLogFileDurationHours:
                        type: integer
                      mongod:
                        description: AgentLoggingMongodConfig contain settings for
                          the mongodb processes configured by the agent
                        properties:
                          auditlogRotate:
                            description: LogRotate configures audit log rotation for
                              the mongodb processes
                            properties:
                              includeAuditLogsWithMongoDBLogs:
                                description: |-
                                  set to 'true' to have the Automation Agent rotate the audit files along
                                  with mongodb log files
                                type: boolean
                              numTotal:
                                description: maximum number of log files to have total
                                type: integer
                              numUncompressed:
                                description: maximum number of log files to leave
                                  uncompressed
                                type: integer
                              percentOfDiskspace:
                                description: |-
                                  Maximum percentage of the total disk space these log files should take up.
                                  The string needs to be able to be converted to float64
                                type: string
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  The string needs to be able to be converted to float64.
                                  Fractional values of MB are supported.
                                type: string
                              timeThresholdHrs:
                                description: maximum hours for an individual log file
                                  before rotation
                                type: integer
                            required:
                            - sizeThresholdMB
                            - timeThresholdHrs
                            type: object
                          logRotate:
                            description: LogRotate configures log rotation for the
                              mongodb processes
                            properties:
                              includeAuditLogsWithMongoDBLogs:
                                description: |-
                                  set to 'true' to have the Automation Agent rotate the audit files along
                                  with mongodb log files
                                type: boolean
                              numTotal:
                                description: maximum number of log files to have total
                                type: integer
                              numUncompressed:
                                description: maximum number of log files to leave
                                  uncompressed
                                type: integer
                              percentOfDiskspace:
                                description: |-
                                  Maximum percentage of the total disk space these log files should take up.
                                  The string needs to be able to be converted to float64
                                type: string
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  The string needs to be able to be converted to float64.
                                  Fractional values of MB are supported.
                                type: string
                              timeThresholdHrs:
                                description: maximum hours for an individual log file
                                  before rotation
                                type: integer
                            required:
                            - sizeThresholdMB
                            - timeThresholdHrs
                            type: object
                          systemLog:
                            description: SystemLog configures system log of mongod
                            properties:
                              destination:
                                type: string
                              logAppend:
                                type: boolean
                              path:
                                type: string
                            required:
                            - destination
                            - logAppend
                            - path
                            type: object
                        type: object
                      monitoringAgent:
                        properties:
                          logRotate:
                            description: LogRotate configures log rotation for the
                              BackupAgent processes
                            properties:
                              sizeThresholdMB:
                                description: |-
                                  Maximum size for an individual log file before rotation.
                                  OM only supports ints
                                type: integer
                              timeThresholdHrs:
                                description: Number of hours after which this MongoDB
                                  Agent rotates the log file.
                                type: integer
                            type: object
                        type: object
                      readinessProbe:
                        properties:
                          environmentVariables:
                            additionalProperties:
                              type: string
                            type: object
                        type: object
                      startupOptions:
                        additionalProperties:
                          type: string
                        description: |-
                          StartupParameters can be used to configure the startup parameters with which the agent starts. That also contains
                          log rotation settings as defined here:
                        type: object
                      systemLog:
                        description: DEPRECATED please use mongod.systemLog
                        properties:
                          destination:
                            type: string
                          logAppend:
                            type: boolean
                          path:
                            type: string
                        required:
                        - destination
                        - logAppend
                        - path
                        type: object
                    type: object
                  clusterSpecList:
                    items:
                      description: |-
                        ClusterSpecItem is the mongodb multi-cluster spec that is specific to a
                        particular Kubernetes cluster, this maps to the statefulset created in each cluster
                      properties:
                        clusterName:
                          description: |-
                            ClusterName is name of the cluster where the MongoDB Statefulset will be scheduled, the
                            name should have a one on one mapping with the service-account created in the central cluster
                            to talk to the workload clusters.
                          type: string
                        externalAccess:
                          description: ExternalAccessConfiguration provides external
                            access configuration for Multi-Cluster.
                          properties:
                            externalDomain:
                              description: An external domain that is used for exposing
                                MongoDB to the outside world.
                              type: string
                            externalService:
                              description: Provides a way to override the default
                                (NodePort) Service
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  description: A map of annotations that shall be
                                    added to the externally available Service.
                                  type: object
                                spec:
                                  description: A wrapper for the Service spec object.
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                              type: object
                          type: object
                        memberConfig:
                          description: MemberConfig allows to specify votes, priorities
                            and tags for each of the mongodb process.
                          items:
                            properties:
                              priority:
                                type: string
                              tags:
                                additionalProperties:
                                  type: string
                                type: object
                              votes:
                                type: integer
                            type: object
                          type: array
                        members:
                          description: Amount of members for this MongoDB Replica
                            Set
                          type: integer
                        podSpec:
                          properties:
                            persistence:
                              description: Note, that this field is used by MongoDB
                                resources only, let's keep it here for simplicity
                              properties:
                                multiple:
                                  properties:
                                    data:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                    journal:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                    logs:
                                      properties:
                                        labelSelector:
                                          type: object
                                          x-kubernetes-preserve-unknown-fields: true
                                        storage:
                                          type: string
                                        storageClass:
                                          type: string
                                      type: object
                                  type: object
                                single:
                                  properties:
                                    labelSelector:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    storage:
                                      type: string
                                    storageClass:
                                      type: string
                                  type: object
                              type: object
                            podTemplate:
                              type: object
                              x-kubernetes-preserve-unknown-fields: true
                          type: object
                        service:
                          description: this is an optional service, it will get the
                            name "<rsName>-service" in case not provided
                          type: string
                        statefulSet:
                          description: |-
                            StatefulSetConfiguration holds the optional custom StatefulSet
                            that should be merged into the operator created one.
                          properties:
                            metadata:
                              description: StatefulSetMetadataWrapper is a wrapper
                                around Labels and Annotations
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  type: object
                                labels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              type: object
                            spec:
                              type: object
                              x-kubernetes-preserve-unknown-fields: true
                          required:
                          - spec
                          type: object
                      required:
                      - members
                      type: object
                    type: array
                type: object
                x-kubernetes-preserve-unknown-fields: true
              shardCount:
                type: integer
              shardOverrides:
                description: |-
                  ShardOverrides allow for overriding the configuration of a specific shard.
                  It replaces deprecated spec.shard.shardSpecificPodSpec field. When spec.shard.shardSpecificPodSpec is still defined then
                  spec.shard.shardSpecificPodSpec is applied first to the particular shard and then spec.shardOverrides is applied on top
                  of that (if defined for the same shard).
                items:
                  properties:
                    additionalMongodConfig:
                      type: object
                      x-kubernetes-preserve-unknown-fields: true
                    agent:
                      properties:
                        backupAgent:
                          properties:
                            logRotate:
                              description: LogRotate configures log rotation for the
                                BackupAgent processes
                              properties:
                                sizeThresholdMB:
                                  description: |-
                                    Maximum size for an individual log file before rotation.
                                    OM only supports ints
                                  type: integer
                                timeThresholdHrs:
                                  description: Number of hours after which this MongoDB
                                    Agent rotates the log file.
                                  type: integer
                              type: object
                          type: object
                        logLevel:
                          type: string
                        logRotate:
                          description: DEPRECATED please use mongod.logRotate
                          properties:
                            includeAuditLogsWithMongoDBLogs:
                              description: |-
                                set to 'true' to have the Automation Agent rotate the audit files along
                                with mongodb log files
                              type: boolean
                            numTotal:
                              description: maximum number of log files to have total
                              type: integer
                            numUncompressed:
                              description: maximum number of log files to leave uncompressed
                              type: integer
                            percentOfDiskspace:
                              description: |-
                                Maximum percentage of the total disk space these log files should take up.
                                The string needs to be able to be converted to float64
                              type: string
                            sizeThresholdMB:
                              description: |-
                                Maximum size for an individual log file before rotation.
                                The string needs to be able to be converted to float64.
                                Fractional values of MB are supported.
                              type: string
                            timeThresholdHrs:
                              description: maximum hours for an individual log file
                                before rotation
                              type: integer
                          required:
                          - sizeThresholdMB
                          - timeThresholdHrs
                          type: object
                        maxLogFileDurationHours:
                          type: integer
                        mongod:
                          description: AgentLoggingMongodConfig contain settings for
                            the mongodb processes configured by the agent
                          properties:
                            auditlogRotate:
                              description: LogRotate configures audit log rotation
                                for the mongodb processes
                              properties:
                                includeAuditLogsWithMongoDBLogs:
                                  description: |-
                                    set to 'true' to have the Automation Agent rotate the audit files along
                                    with mongodb log files
                                  type: boolean
                                numTotal:
                                  description: maximum number of log files to have
                                    total
                                  type: integer
                                numUncompressed:
                                  description: maximum number of log files to leave
                                    uncompressed
                                  type: integer
                                percentOfDiskspace:
                                  description: |-
                                    Maximum percentage of the total disk space these log files should take up.
                                    The string needs to be able to be converted to float64
                                  type: string
                                sizeThresholdMB:
                                  description: |-
                                    Maximum size for an individual log file before rotation.
                                    The string needs to be able to be converted to float64.
                                    Fractional values of MB are supported.
                                  type: string
                                timeThresholdHrs:
                                  description: maximum hours for an individual log
                                    file before rotation
                                  type: integer
                              required:
                              - sizeThresholdMB
                              - timeThresholdHrs
                              type: object
                            logRotate:
                              description: LogRotate configures log rotation for the
                                mongodb processes
                              properties:
                                includeAuditLogsWithMongoDBLogs:
                                  description: |-
                                    set to 'true' to have the Automation Agent rotate the audit files along
                                    with mongodb log files
                                  type: boolean
                                numTotal:
                                  description: maximum number of log files to have
                                    total
                                  type: integer
                                numUncompressed:
                                  description: maximum number of log files to leave
                                    uncompressed
                                  type: integer
                                percentOfDiskspace:
                                  description: |-
                                    Maximum percentage of the total disk space these log files should take up.
                                    The string needs to be able to be converted to float64
                                  type: string
                                sizeThresholdMB:
                                  description: |-
                                    Maximum size for an individual log file before rotation.
                                    The string needs to be able to be converted to float64.
                                    Fractional values of MB are supported.
                                  type: string
                                timeThresholdHrs:
                                  description: maximum hours for an individual log
                                    file before rotation
                                  type: integer
                              required:
                              - sizeThresholdMB
                              - timeThresholdHrs
                              type: object
                            systemLog:
                              description: SystemLog configures system log of mongod
                              properties:
                                destination:
                                  type: string
                                logAppend:
                                  type: boolean
                                path:
                                  type: string
                              required:
                              - destination
                              - logAppend
                              - path
                              type: object
                          type: object
                        monitoringAgent:
                          properties:
                            logRotate:
                              description: LogRotate configures log rotation for the
                                BackupAgent processes
                              properties:
                                sizeThresholdMB:
                                  description: |-
                                    Maximum size for an individual log file before rotation.
                                    OM only supports ints
                                  type: integer
                                timeThresholdHrs:
                                  description: Number of hours after which this MongoDB
                                    Agent rotates the log file.
                                  type: integer
                              type: object
                          type: object
                        readinessProbe:
                          properties:
                            environmentVariables:
                              additionalProperties:
                                type: string
                              type: object
                          type: object
                        startupOptions:
                          additionalProperties:
                            type: string
                          description: |-
                            StartupParameters can be used to configure the startup parameters with which the agent starts. That also contains
                            log rotation settings as defined here:
                          type: object
                        systemLog:
                          description: DEPRECATED please use mongod.systemLog
                          properties:
                            destination:
                              type: string
                            logAppend:
                              type: boolean
                            path:
                              type: string
                          required:
                          - destination
                          - logAppend
                          - path
                          type: object
                      type: object
                    clusterSpecList:
                      items:
                        description: |-
                          ClusterSpecItemOverride is almost exact copy of ClusterSpecItem object.
                          The object is used in ClusterSpecList in ShardedClusterComponentOverrideSpec in shard overrides.
                          The difference lies in some fields being optional, e.g. Members to make it possible to NOT override fields and rely on
                          what was set in top level shard configuration.
                        properties:
                          clusterName:
                            description: |-
                              ClusterName is name of the cluster where the MongoDB Statefulset will be scheduled, the
                              name should have a one on one mapping with the service-account created in the central cluster
                              to talk to the workload clusters.
                            type: string
                          memberConfig:
                            description: MemberConfig allows to specify votes, priorities
                              and tags for each of the mongodb process.
                            items:
                              properties:
                                priority:
                                  type: string
                                tags:
                                  additionalProperties:
                                    type: string
                                  type: object
                                votes:
                                  type: integer
                              type: object
                            type: array
                            x-kubernetes-preserve-unknown-fields: true
                          members:
                            description: Amount of members for this MongoDB Replica
                              Set
                            type: integer
                          podSpec:
                            properties:
                              persistence:
                                description: Note, that this field is used by MongoDB
                                  resources only, let's keep it here for simplicity
                                properties:
                                  multiple:
                                    properties:
                                      data:
                                        properties:
                                          labelSelector:
                                            type: object
                                            x-kubernetes-preserve-unknown-fields: true
                                          storage:
                                            type: string
                                          storageClass:
                                            type: string
                                        type: object
                                      journal:
                                        properties:
                                          labelSelector:
                                            type: object
                                            x-kubernetes-preserve-unknown-fields: true
                                          storage:
                                            type: string
                                          storageClass:
                                            type: string
                                        type: object
                                      logs:
                                        properties:
                                          labelSelector:
                                            type: object
                                            x-kubernetes-preserve-unknown-fields: true
                                          storage:
                                            type: string
                                          storageClass:
                                            type: string
                                        type: object
                                    type: object
                                  single:
                                    properties:
                                      labelSelector:
                                        type: object
                                        x-kubernetes-preserve-unknown-fields: true
                                      storage:
                                        type: string
                                      storageClass:
                                        type: string
                                    type: object
                                type: object
                              podTemplate:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                            type: object
                          statefulSet:
                            description: |-
                              StatefulSetConfiguration holds the optional custom StatefulSet
                              that should be merged into the operator created one.
                            properties:
                              metadata:
                                description: StatefulSetMetadataWrapper is a wrapper
                                  around Labels and Annotations
                                properties:
                                  annotations:
                                    additionalProperties:
                                      type: string
                                    type: object
                                  labels:
                                    additionalProperties:
                                      type: string
                                    type: object
                                type: object
                              spec:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                            required:
                            - spec
                            type: object
                        type: object
                      type: array
                    memberConfig:
                      description: Process configuration override for this shard.
                        Used in SingleCluster only. The number of items specified
                        must be >= spec.mongodsPerShardCount or spec.shardOverride.members.
                      items:
                        properties:
                          priority:
                            type: string
                          tags:
                            additionalProperties:
                              type: string
                            type: object
                          votes:
                            type: integer
                        type: object
                      type: array
                      x-kubernetes-preserve-unknown-fields: true
                    members:
                      description: Number of member nodes in this shard. Used only
                        in SingleCluster. For MultiCluster the number of members is
                        specified in ShardOverride.ClusterSpecList.
                      type: integer
                    podSpec:
                      description: The following override fields work for SingleCluster
                        only. For MultiCluster - fields from specific clusters are
                        used.
                      properties:
                        persistence:
                          description: Note, that this field is used by MongoDB resources
                            only, let's keep it here for simplicity
                          properties:
                            multiple:
                              properties:
                                data:
                                  properties:
                                    labelSelector:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    storage:
                                      type: string
                                    storageClass:
                                      type: string
                                  type: object
                                journal:
                                  properties:
                                    labelSelector:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    storage:
                                      type: string
                                    storageClass:
                                      type: string
                                  type: object
                                logs:
                                  properties:
                                    labelSelector:
                                      type: object
                                      x-kubernetes-preserve-unknown-fields: true
                                    storage:
                                      type: string
                                    storageClass:
                                      type: string
                                  type: object
                              type: object
                            single:
                              properties:
                                labelSelector:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                storage:
                                  type: string
                                storageClass:
                                  type: string
                              type: object
                          type: object
                        podTemplate:
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                      type: object
                    shardNames:
                      items:
                        type: string
                      minItems: 1
                      type: array
                    statefulSet:
                      description: Statefulset override for this particular shard.
                      properties:
                        metadata:
                          description: StatefulSetMetadataWrapper is a wrapper around
                            Labels and Annotations
                          properties:
                            annotations:
                              additionalProperties:
                                type: string
                              type: object
                            labels:
                              additionalProperties:
                                type: string
                              type: object
                          type: object
                        spec:
                          type: object
                          x-kubernetes-preserve-unknown-fields: true
                      required:
                      - spec
                      type: object
                  required:
                  - shardNames
                  type: object
                type: array
              shardPodSpec:
                properties:
                  persistence:
                    description: Note, that this field is used by MongoDB resources
                      only, let's keep it here for simplicity
                    properties:
                      multiple:
                        properties:
                          data:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                          journal:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                          logs:
                            properties:
                              labelSelector:
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              storage:
                                type: string
                              storageClass:
                                type: string
                            type: object
                        type: object
                      single:
                        properties:
                          labelSelector:
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          storage:
                            type: string
                          storageClass:
                            type: string
                        type: object
                    type: object
                  podTemplate:
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                type: object
              shardSpecificPodSpec:
                description: |-
                  ShardSpecificPodSpec allows you to provide a Statefulset override per shard.
                  DEPRECATED please use spec.shard.shardOverrides instead
                items:
                  properties:
                    persistence:
                      description: Note, that this field is used by MongoDB resources
                        only, let's keep it here for simplicity
                      properties:
                        multiple:
                          properties:
                            data:
                              properties:
                                labelSelector:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                storage:
                                  type: string
                                storageClass:
                                  type: string
                              type: object
                            journal:
                              properties:
                                labelSelector:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                storage:
                                  type: string
                                storageClass:
                                  type: string
                              type: object
                            logs:
                              properties:
                                labelSelector:
                                  type: object
                                  x-kubernetes-preserve-unknown-fields: true
                                storage:
                                  type: string
                                storageClass:
                                  type: string
                              type: object
                          type: object
                        single:
                          properties:
                            labelSelector:
                              type: object
                              x-kubernetes-preserve-unknown-fields: true
                            storage:
                              type: string
                            storageClass:
                              type: string
                          type: object
                      type: object
                    podTemplate:
                      type: object
                      x-kubernetes-preserve-unknown-fields: true
                  type: object
                type: array
              statefulSet:
                description: |-
                  StatefulSetConfiguration provides the statefulset override for each of the cluster's statefulset
                  if "StatefulSetConfiguration" is specified at cluster level under "clusterSpecList" that takes precedence over
                  the global one
                properties:
                  metadata:
                    description: StatefulSetMetadataWrapper is a wrapper around Labels
                      and Annotations
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        type: object
                    type: object
                  spec:
                    type: object
                    x-kubernetes-preserve-unknown-fields: true
                required:
                - spec
                type: object
              topology:
                description: |-
                  Topology sets the desired cluster topology of MongoDB resources
                  It defaults (if empty or not set) to SingleCluster. If MultiCluster specified,
                  then clusterSpecList field is mandatory and at least one member cluster has to be specified.
                enum:
                - SingleCluster
                - MultiCluster
                type: string
              type:
                enum:
                - Standalone
                - ReplicaSet
                - ShardedCluster
                type: string
              version:
                pattern: ^[0-9]+.[0-9]+.[0-9]+(-.+)?$|^$
                type: string
            required:
            - credentials
            - type
            - version
            type: object
            x-kubernetes-preserve-unknown-fields: true
          status:
            properties:
              backup:
                properties:
                  statusName:
                    type: string
                required:
                - statusName
                type: object
              configServerCount:
                type: integer
              featureCompatibilityVersion:
                type: string
              lastTransition:
                type: string
              link:
                type: string
              members:
                type: integer
              message:
                type: string
              mongodsPerShardCount:
                type: integer
              mongosCount:
                type: integer
              observedGeneration:
                format: int64
                type: integer
              phase:
                type: string
              pvc:
                items:
                  properties:
                    phase:
                      type: string
                    statefulsetName:
                      type: string
                  required:
                  - phase
                  - statefulsetName
                  type: object
                type: array
              resourcesNotReady:
                items:
                  description: ResourceNotReady describes the dependent resource which
                    is not ready yet
                  properties:
                    errors:
                      items:
                        properties:
                          message:
                            type: string
                          reason:
                            type: string
                        type: object
                      type: array
                    kind:
                      description: ResourceKind specifies a kind of a Kubernetes resource.
                        Used in status of a Custom Resource
                      type: string
                    message:
                      type: string
                    name:
                      type: string
                  required:
                  - kind
                  - name
                  type: object
                type: array
              shardCount:
                type: integer
              sizeStatusInClusters:
                description: MongodbShardedSizeStatusInClusters describes the number
                  and sizes of replica sets members deployed across member clusters
                properties:
                  configServerMongodsInClusters:
                    additionalProperties:
                      type: integer
                    type: object
                  mongosCountInClusters:
                    additionalProperties:
                      type: integer
                    type: object
                  shardMongodsInClusters:
                    additionalProperties:
                      type: integer
                    type: object
                type: object
              version:
                type: string
              warnings:
                items:
                  type: string
                type: array
            required:
            - phase
            - version
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
