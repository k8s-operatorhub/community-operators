apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  labels:
    app.kubernetes.io/name: logicmonitor-operator
    app.kubernetes.io/part-of: logicmonitor-operator
  name: lmcontainers.monitoring.logicmonitor.com
spec:
  group: monitoring.logicmonitor.com
  names:
    kind: LMContainer
    listKind: LMContainerList
    plural: lmcontainers
    shortNames:
    - lmc
    singular: lmcontainer
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: LogicMonitor cluster name
      jsonPath: .spec.argus.clusterName
      name: Cluster
      type: string
    - description: Deployment phase
      jsonPath: .status.phase
      name: Phase
      type: string
    - description: Number of collectors
      jsonPath: .status.collectorCount
      name: Collectors
      type: integer
    - description: Argus ready status
      jsonPath: .status.argusReady
      name: Argus
      type: boolean
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: LMContainer deploys LogicMonitor container monitoring to a Kubernetes
          cluster.
        properties:
          apiVersion:
            description: APIVersion defines the versioned schema of this representation
              of an object.
            type: string
          kind:
            description: Kind is a string value representing the REST resource this
              object represents.
            type: string
          metadata:
            type: object
          spec:
            description: Spec defines the desired state of LMContainer deployment.
            properties:
              argus:
                description: Argus configuration for Kubernetes resource discovery.
                properties:
                  clusterName:
                    description: |
                      Unique name for this cluster in LogicMonitor.
                      Appears as "Kubernetes Cluster: <clusterName>" in the portal.
                      WARNING: Do not change after initial deployment.
                    maxLength: 63
                    minLength: 1
                    pattern: ^[a-z0-9]([a-z0-9-]*[a-z0-9])?$
                    type: string
                  clusterTreeParentID:
                    default: 1
                    description: |
                      Parent resource group ID in LogicMonitor where the cluster tree is created.
                      The resource group must exist before deployment.
                    minimum: 1
                    type: integer
                  enabled:
                    default: true
                    description: Enable Argus deployment.
                    type: boolean
                  resourceContainerID:
                    description: Resource container group ID in LogicMonitor.
                    minimum: 1
                    type: integer
                type: object
                x-kubernetes-preserve-unknown-fields: true
              collector:
                description: Collector configuration.
                properties:
                  escalationChainID:
                    description: Alert escalation chain ID for collector alerts.
                    minimum: 0
                    type: integer
                  groupID:
                    description: Collector group ID in LogicMonitor. Auto-created
                      if not specified.
                    minimum: 0
                    type: integer
                  replicas:
                    default: 1
                    description: Number of collector pod replicas.
                    maximum: 10
                    minimum: 1
                    type: integer
                  size:
                    default: small
                    description: Collector size determining resource allocation.
                    enum:
                    - nano
                    - small
                    - medium
                    - large
                    type: string
                  useEA:
                    default: false
                    description: Use Early Access collector version.
                    type: boolean
                type: object
                x-kubernetes-preserve-unknown-fields: true
              collectorset-controller:
                description: Collectorset Controller configuration for collector pod
                  management.
                properties:
                  enabled:
                    default: true
                    description: Enable Collectorset Controller deployment.
                    type: boolean
                type: object
                x-kubernetes-preserve-unknown-fields: true
              global:
                description: Global configuration shared across all components.
                properties:
                  accessID:
                    description: |
                      LogicMonitor API access ID. Generate from Settings > Users and Roles > API Tokens.
                      Ignored if userDefinedSecret is set.
                    type: string
                  accessKey:
                    description: |
                      LogicMonitor API access key.
                      Ignored if userDefinedSecret is set.
                    type: string
                  account:
                    description: |
                      LogicMonitor account name. This is the subdomain from your portal URL.
                      Example: If your URL is "acme.logicmonitor.com", use "acme".
                      Ignored if userDefinedSecret is set.
                    maxLength: 64
                    minLength: 1
                    pattern: ^[a-z0-9]([a-z0-9-]*[a-z0-9])?$
                    type: string
                  companyDomain:
                    description: |
                      LogicMonitor domain. Leave empty for standard logicmonitor.com.
                      Use "lmgov.us" for government cloud.
                    enum:
                    - ""
                    - logicmonitor.com
                    - lmgov.us
                    type: string
                  image:
                    description: Global image configuration overrides.
                    properties:
                      pullPolicy:
                        description: Override image pull policy for all components.
                        enum:
                        - ""
                        - Always
                        - IfNotPresent
                        - Never
                        type: string
                      registry:
                        description: Override image registry for all components.
                        type: string
                    type: object
                  userDefinedSecret:
                    description: |
                      Name of a Secret containing LogicMonitor credentials.
                      The Secret must contain keys: accessID, accessKey, account.
                      When set, inline credential fields are ignored.
                    type: string
                type: object
                x-kubernetes-preserve-unknown-fields: true
              kube-state-metrics:
                description: Kube State Metrics configuration.
                properties:
                  enabled:
                    default: true
                    description: Enable Kube State Metrics deployment.
                    type: boolean
                  replicas:
                    default: 1
                    description: Number of KSM pod replicas.
                    maximum: 5
                    minimum: 1
                    type: integer
                type: object
                x-kubernetes-preserve-unknown-fields: true
              lm-logs:
                description: LM Logs configuration for log forwarding.
                properties:
                  enabled:
                    default: false
                    description: Enable LM Logs deployment.
                    type: boolean
                type: object
                x-kubernetes-preserve-unknown-fields: true
              lmotel:
                description: LMOTEL configuration for OpenTelemetry integration.
                properties:
                  enabled:
                    default: false
                    description: Enable LMOTEL deployment.
                    type: boolean
                type: object
                x-kubernetes-preserve-unknown-fields: true
            type: object
            x-kubernetes-preserve-unknown-fields: true
          status:
            description: Status defines the observed state of LMContainer.
            properties:
              argusReady:
                description: Whether Argus is ready and registered with LogicMonitor.
                type: boolean
              collectorCount:
                description: Number of running collector pods.
                minimum: 0
                type: integer
              collectorsetControllerReady:
                description: Whether Collectorset Controller is ready.
                type: boolean
              conditions:
                description: Conditions represent the latest available observations
                  of the LMContainer state.
                items:
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned.
                      format: date-time
                      type: string
                    message:
                      description: Human-readable message for the condition.
                      type: string
                    reason:
                      description: Machine-readable reason for the condition.
                      type: string
                    status:
                      description: Status of the condition (True, False, Unknown).
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: Type of condition.
                      type: string
                  required:
                  - type
                  - status
                  type: object
                type: array
              helmReleaseName:
                description: Name of the managed Helm release.
                type: string
              helmReleaseStatus:
                description: Status of the Helm release.
                type: string
              lastReconcileTime:
                description: Last successful reconciliation time.
                format: date-time
                type: string
              message:
                description: Human-readable status message.
                type: string
              observedGeneration:
                description: Last observed generation of the LMContainer resource.
                format: int64
                type: integer
              phase:
                description: Current phase of the LMContainer deployment.
                enum:
                - Pending
                - Installing
                - Running
                - Failed
                - Updating
                - Deleting
                type: string
            type: object
            x-kubernetes-preserve-unknown-fields: true
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
