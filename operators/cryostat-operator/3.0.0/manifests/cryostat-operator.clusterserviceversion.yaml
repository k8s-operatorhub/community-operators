apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "operator.cryostat.io/v1beta2",
          "kind": "Cryostat",
          "metadata": {
            "name": "cryostat-sample"
          },
          "spec": {
            "enableCertManager": true,
            "eventTemplates": [],
            "reportOptions": {
              "replicas": 0
            },
            "storageOptions": {
              "pvc": {
                "annotations": {},
                "labels": {},
                "spec": {}
              }
            },
            "trustedCertSecrets": []
          }
        }
      ]
    capabilities: Seamless Upgrades
    categories: Monitoring, Developer Tools
    containerImage: quay.io/cryostat/cryostat-operator:3.0.0
    createdAt: "2024-07-04T13:19:31Z"
    description: JVM monitoring and profiling tool
    operatorframework.io/initialization-resource: |-
      {
        "apiVersion": "operator.cryostat.io/v1beta2",
        "kind": "Cryostat",
        "metadata": {
          "name": "cryostat-sample"
        },
        "spec": {
          "enableCertManager": true,
          "reportOptions": {
            "replicas": 0
          }
        }
      }
    operators.operatorframework.io/builder: operator-sdk-v1.31.0
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v3
    repository: github.com/cryostatio/cryostat-operator
    support: Cryostat Community
  labels:
    operatorframework.io/arch.amd64: supported
    operatorframework.io/arch.arm64: supported
    operatorframework.io/os.linux: supported
  name: cryostat-operator.v3.0.0
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
      - description: Cryostat allows you to install Cryostat for a single namespace, or multiple namespaces. It contains configuration options for controlling the Deployment of the Cryostat application and its related components. A Cryostat instance must be created to instruct the operator to deploy the Cryostat application.
        displayName: Cryostat
        kind: Cryostat
        name: cryostats.operator.cryostat.io
        resources:
          - kind: ConsoleLink
            name: ""
            version: v1
          - kind: Deployment
            name: ""
            version: v1
          - kind: Ingress
            name: ""
            version: v1
          - kind: PersistentVolumeClaim
            name: ""
            version: v1
          - kind: Route
            name: ""
            version: v1
          - kind: Secret
            name: ""
            version: v1
          - kind: Service
            name: ""
            version: v1
        specDescriptors:
          - description: 'List of namespaces whose workloads Cryostat should be permitted to access and profile. Defaults to this Cryostat''s namespace. Warning: All Cryostat users will be able to create and manage recordings for workloads in the listed namespaces. More details: https://github.com/cryostatio/cryostat-operator/blob/v3.0.0/docs/config.md#data-isolation'
            displayName: Target Namespaces
            path: targetNamespaces
          - description: Use cert-manager to secure in-cluster communication between Cryostat components. Requires cert-manager to be installed.
            displayName: Enable cert-manager Integration
            path: enableCertManager
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: Additional configuration options for the authorization proxy.
            displayName: Authorization Options
            path: authorizationOptions
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:advanced
          - description: Reference to a secret and file name containing the Basic authentication htpasswd file. If deploying on OpenShift this defines additional user accounts that can access the Cryostat application, on top of the OpenShift user accounts which pass the OpenShift SSO Roles checks. If not on OpenShift then this defines the only user accounts that have access.
            displayName: Basic Auth
            path: authorizationOptions.basicAuth
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: Name of the file within the secret.
            displayName: Filename
            path: authorizationOptions.basicAuth.filename
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: Name of the secret to reference.
            displayName: Secret Name
            path: authorizationOptions.basicAuth.secretName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: Configuration for OpenShift RBAC to define which OpenShift user accounts may access the Cryostat application.
            displayName: OpenShift SSO
            path: authorizationOptions.openShiftSSO
          - description: The SubjectAccessReview or TokenAccessReview that all clients (users visiting the application via web browser as well as CLI utilities and other programs presenting Bearer auth tokens) must pass in order to access the application. If not specified, the default role required is "create pods/exec" in the Cryostat application's installation namespace.
            displayName: Access Review
            path: authorizationOptions.openShiftSSO.accessReview
          - description: Disable OpenShift SSO integration and allow all users to access the application without authentication. This will also bypass the BasicAuth, if specified.
            displayName: Disable OpenShift SSO
            path: authorizationOptions.openShiftSSO.disable
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: Options to configure the Cryostat application's database.
            displayName: Database Options
            path: databaseOptions
          - description: 'Name of the secret containing database keys. This secret must contain a CONNECTION_KEY secret which is the database connection password, and an ENCRYPTION_KEY secret which is the key used to encrypt sensitive data stored within the database, such as the target credentials keyring. This field cannot be updated. It is recommended that the secret should be marked as immutable to avoid accidental changes to secret''s data. More details: https://kubernetes.io/docs/concepts/configuration/secret/#secret-immutable'
            displayName: Secret Name
            path: databaseOptions.secretName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: List of Flight Recorder Event Templates to preconfigure in Cryostat.
            displayName: Event Templates
            path: eventTemplates
          - description: Name of config map in the local namespace.
            displayName: Config Map Name
            path: eventTemplates[0].configMapName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:ConfigMap
          - description: Options to control how the operator exposes the application outside of the cluster, such as using an Ingress or Route.
            displayName: Network Options
            path: networkOptions
          - description: Specifications for how to expose the Cryostat service, which serves the Cryostat application.
            displayName: Core Config
            path: networkOptions.coreConfig
          - description: Annotations to add to the Ingress or Route during its creation.
            displayName: Annotations
            path: networkOptions.coreConfig.annotations
          - description: Externally routable host to be used to reach this Cryostat service. Used to define a Route's host on OpenShift when it is first created. On Kubernetes, define this using "spec.ingressSpec".
            displayName: External Host
            path: networkOptions.coreConfig.externalHost
          - description: Configuration for an Ingress object. Currently subpaths are not supported, so unique hosts must be specified (if a single external IP is being used) to differentiate between ingresses/services.
            displayName: Ingress Spec
            path: networkOptions.coreConfig.ingressSpec
          - description: Labels to add to the Ingress or Route during its creation. The label with key "app" is reserved for use by the operator.
            displayName: Labels
            path: networkOptions.coreConfig.labels
          - description: Options to configure the Cryostat deployments and pods metadata
            displayName: Operand metadata
            path: operandMetadata
          - description: Options to configure the Cryostat deployments metadata
            displayName: Deployments metadata
            path: operandMetadata.deploymentMetadata
          - description: Options to configure the Cryostat pods metadata
            displayName: Pods metadata
            path: operandMetadata.podMetadata
          - description: Options to configure Cryostat Automated Report Analysis.
            displayName: Report Options
            path: reportOptions
          - description: The number of report sidecar replica containers to deploy. Each replica can service one report generation request at a time.
            displayName: Replicas
            path: reportOptions.replicas
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podCount
          - description: The resources allocated to each sidecar replica. A replica with more resources can handle larger input recordings and will process them faster.
            displayName: Resources
            path: reportOptions.resources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Options to configure scheduling for the reports deployment
            displayName: Scheduling Options
            path: reportOptions.schedulingOptions
          - description: Affinity rules for scheduling Cryostat pods.
            displayName: Affinity
            path: reportOptions.schedulingOptions.affinity
          - description: 'Node affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#NodeAffinity'
            displayName: Node Affinity
            path: reportOptions.schedulingOptions.affinity.nodeAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:nodeAffinity
          - description: 'Pod affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAffinity'
            displayName: Pod Affinity
            path: reportOptions.schedulingOptions.affinity.podAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podAffinity
          - description: 'Pod anti-affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAntiAffinity'
            displayName: Pod Anti Affinity
            path: reportOptions.schedulingOptions.affinity.podAntiAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podAntiAffinity
          - description: 'Label selector used to schedule a Cryostat pod to a node. See: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/'
            displayName: Node Selector
            path: reportOptions.schedulingOptions.nodeSelector
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:Node
          - description: 'Tolerations to allow scheduling of Cryostat pods to tainted nodes. See: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/'
            displayName: Tolerations
            path: reportOptions.schedulingOptions.tolerations
          - description: Options to configure the Security Contexts for the Cryostat report generator.
            displayName: Security Options
            path: reportOptions.securityOptions
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:advanced
          - description: Security Context to apply to the Cryostat report generator pod.
            displayName: Pod Security Context
            path: reportOptions.securityOptions.podSecurityContext
          - description: Security Context to apply to the Cryostat report generator container.
            displayName: Reports Security Context
            path: reportOptions.securityOptions.reportsSecurityContext
          - description: When zero report sidecar replicas are requested, SubProcessMaxHeapSize configures the maximum heap size of the basic subprocess report generator in MiB. The default heap size is `200` (MiB).
            displayName: Sub Process Max Heap Size
            path: reportOptions.subProcessMaxHeapSize
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Resource requirements for the Cryostat deployment.
            displayName: Resources
            path: resources
          - description: Resource requirements for the auth proxy.
            displayName: Auth Proxy Resources
            path: resources.authProxyResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Resource requirements for the Cryostat application. If specifying a memory limit, at least 384MiB is recommended.
            displayName: Core Resources
            path: resources.coreResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Resource requirements for the JFR Data Source container.
            displayName: Data Source Resources
            path: resources.dataSourceResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Resource requirements for the database container.
            displayName: Database Resources
            path: resources.databaseResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Resource requirements for the Grafana container.
            displayName: Grafana Resources
            path: resources.grafanaResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Resource requirements for the object storage container.
            displayName: Object Storage Resources
            path: resources.objectStorageResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Options to configure scheduling for the Cryostat deployment
            displayName: Scheduling Options
            path: schedulingOptions
          - description: Affinity rules for scheduling Cryostat pods.
            displayName: Affinity
            path: schedulingOptions.affinity
          - description: 'Node affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#NodeAffinity'
            displayName: Node Affinity
            path: schedulingOptions.affinity.nodeAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:nodeAffinity
          - description: 'Pod affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAffinity'
            displayName: Pod Affinity
            path: schedulingOptions.affinity.podAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podAffinity
          - description: 'Pod anti-affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAntiAffinity'
            displayName: Pod Anti Affinity
            path: schedulingOptions.affinity.podAntiAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podAntiAffinity
          - description: 'Label selector used to schedule a Cryostat pod to a node. See: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/'
            displayName: Node Selector
            path: schedulingOptions.nodeSelector
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:Node
          - description: 'Tolerations to allow scheduling of Cryostat pods to tainted nodes. See: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/'
            displayName: Tolerations
            path: schedulingOptions.tolerations
          - description: Options to configure the Security Contexts for the Cryostat application.
            displayName: Security Options
            path: securityOptions
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:advanced
          - description: Security Context to apply to the auth proxy container.
            displayName: Auth Proxy Security Context
            path: securityOptions.authProxySecurityContext
          - description: Security Context to apply to the Cryostat application container.
            displayName: Core Security Context
            path: securityOptions.coreSecurityContext
          - description: Security Context to apply to the JFR Data Source container.
            displayName: Data Source Security Context
            path: securityOptions.dataSourceSecurityContext
          - description: Security Context to apply to the database container.
            displayName: Database Security Context
            path: securityOptions.databaseSecurityContext
          - description: Security Context to apply to the Grafana container.
            displayName: Grafana Security Context
            path: securityOptions.grafanaSecurityContext
          - description: Security Context to apply to the Cryostat pod.
            displayName: Pod Security Context
            path: securityOptions.podSecurityContext
          - description: Security Context to apply to the storage container.
            displayName: Storage Security Context
            path: securityOptions.storageSecurityContext
          - description: Options to customize the services created for the Cryostat application.
            displayName: Service Options
            path: serviceOptions
          - description: Options to customize the storage provisioned for the database and object storage.
            displayName: Storage Options
            path: storageOptions
          - description: Configuration for an EmptyDir to be created by the operator instead of a PVC.
            displayName: Empty Dir
            path: storageOptions.emptyDir
          - description: When enabled, Cryostat will use EmptyDir volumes instead of a Persistent Volume Claim. Any PVC configurations will be ignored.
            displayName: Enabled
            path: storageOptions.emptyDir.enabled
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: Unless specified, the emptyDir volume will be mounted on the same storage medium backing the node. Setting this field to "Memory" will mount the emptyDir on a tmpfs (RAM-backed filesystem).
            displayName: Medium
            path: storageOptions.emptyDir.medium
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldDependency:storageOptions.emptyDir.enabled:true
          - description: The maximum memory limit for the emptyDir. Default is unbounded.
            displayName: Size Limit
            path: storageOptions.emptyDir.sizeLimit
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldDependency:storageOptions.emptyDir.enabled:true
          - description: Configuration for the Persistent Volume Claim to be created by the operator.
            displayName: PVC
            path: storageOptions.pvc
          - description: Spec for a Persistent Volume Claim, whose options will override the defaults used by the operator. Unless overriden, the PVC will be created with the default Storage Class and 500MiB of storage. Once the operator has created the PVC, changes to this field have no effect.
            displayName: Spec
            path: storageOptions.pvc.spec
          - description: Options to customize the target connections cache for the Cryostat application.
            displayName: Target Connection Cache Options
            path: targetConnectionCacheOptions
          - description: The maximum number of target connections to cache. Use `-1` for an unlimited cache size (TTL expiration only). Defaults to `-1`.
            displayName: Target Cache Size
            path: targetConnectionCacheOptions.targetCacheSize
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: The time to live (in seconds) for cached target connections. Defaults to `10`.
            displayName: Target Cache TTL
            path: targetConnectionCacheOptions.targetCacheTTL
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Options to configure the Cryostat application's target discovery mechanisms.
            displayName: Target Discovery Options
            path: targetDiscoveryOptions
          - description: When true, the Cryostat application will disable the built-in discovery mechanisms. Defaults to false
            displayName: Disable Built-in Discovery
            path: targetDiscoveryOptions.disableBuiltInDiscovery
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: When false and discoveryPortNames is empty, the Cryostat application will use the default port name jfr-jmx to look for JMX connectable targets. Defaults to false.
            displayName: Disable Built-in Port Names
            path: targetDiscoveryOptions.disableBuiltInPortNames
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: When false and discoveryPortNumbers is empty, the Cryostat application will use the default port number 9091 to look for JMX connectable targets. Defaults to false.
            displayName: Disable Built-in Port Numbers
            path: targetDiscoveryOptions.disableBuiltInPortNumbers
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: List of port names that the Cryostat application should look for in order to consider a target as JMX connectable.
            displayName: Discovery Port Names
            path: targetDiscoveryOptions.discoveryPortNames
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldDependency:targetDiscoveryOptions.disableBuiltInPortNames:true
          - description: List of port numbers that the Cryostat application should look for in order to consider a target as JMX connectable.
            displayName: Discovery Port Numbers
            path: targetDiscoveryOptions.discoveryPortNumbers
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldDependency:targetDiscoveryOptions.disableBuiltInPortNumbers:true
          - description: List of TLS certificates to trust when connecting to targets.
            displayName: Trusted TLS Certificates
            path: trustedCertSecrets
          - description: Name of secret in the local namespace.
            displayName: Secret Name
            path: trustedCertSecrets[0].secretName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: A namespace whose workloads Cryostat should be able to connect and record
            displayName: Target Namespace
            path: targetNamespaces[0]
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Namespace
        statusDescriptors:
          - description: Address of the deployed Cryostat web application.
            displayName: Application URL
            path: applicationUrl
            x-descriptors:
              - urn:alm:descriptor:org.w3:link
          - description: Name of the Secret containing the Cryostat database connection and encryption keys.
            displayName: Database Secret
            path: databaseSecret
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: Name of the Secret containing the Cryostat storage connection key.
            displayName: Storage Secret
            path: storageSecret
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: List of namespaces that Cryostat has been configured and authorized to access and profile.
            displayName: Target Namespaces
            path: targetNamespaces
          - description: Conditions of the components managed by the Cryostat Operator.
            displayName: Cryostat Conditions
            path: conditions
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes.conditions
          - description: A namespace whose workloads Cryostat should be able to connect and record
            displayName: Target Namespace
            path: targetNamespaces[0]
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Namespace
        version: v1beta2
      - description: Cryostat allows you to install Cryostat for a single namespace. It contains configuration options for controlling the Deployment of the Cryostat application and its related components. A Cryostat instance must be created to instruct the operator to deploy the Cryostat application.
        displayName: Cryostat
        kind: Cryostat
        name: cryostats.operator.cryostat.io
        resources:
          - kind: ConsoleLink
            name: ""
            version: v1
          - kind: Deployment
            name: ""
            version: v1
          - kind: Ingress
            name: ""
            version: v1
          - kind: PersistentVolumeClaim
            name: ""
            version: v1
          - kind: Route
            name: ""
            version: v1
          - kind: Secret
            name: ""
            version: v1
          - kind: Service
            name: ""
            version: v1
        specDescriptors:
          - description: Use cert-manager to secure in-cluster communication between Cryostat components. Requires cert-manager to be installed.
            displayName: Enable cert-manager Integration
            path: enableCertManager
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: Deploy a pared-down Cryostat instance with no Grafana Dashboard or JFR Data Source.
            displayName: Minimal Deployment
            path: minimal
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: Override default authorization properties for Cryostat on OpenShift.
            displayName: Authorization Properties
            path: authProperties
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:advanced
          - description: 'Name of the ClusterRole to use when Cryostat requests a role-scoped OAuth token. This ClusterRole should contain permissions for all Kubernetes objects listed in custom permission mapping. More details: https://docs.openshift.com/container-platform/4.11/authentication/tokens-scoping.html#scoping-tokens-role-scope_configuring-internal-oauth'
            displayName: ClusterRole Name
            path: authProperties.clusterRoleName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:ClusterRole
          - description: Name of config map in the local namespace.
            displayName: ConfigMap Name
            path: authProperties.configMapName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:ConfigMap
          - description: Filename within config map containing the resource mapping.
            displayName: Filename
            path: authProperties.filename
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:text
          - description: List of Flight Recorder Event Templates to preconfigure in Cryostat.
            displayName: Event Templates
            path: eventTemplates
          - description: Name of config map in the local namespace.
            displayName: Config Map Name
            path: eventTemplates[0].configMapName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:ConfigMap
          - description: Options to customize the JMX target connections cache for the Cryostat application.
            displayName: JMX Connections Cache Options
            path: jmxCacheOptions
          - description: The maximum number of JMX connections to cache. Use `-1` for an unlimited cache size (TTL expiration only). Defaults to `-1`.
            displayName: Target Cache Size
            path: jmxCacheOptions.targetCacheSize
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: The time to live (in seconds) for cached JMX connections. Defaults to `10`.
            displayName: Target Cache TTL
            path: jmxCacheOptions.targetCacheTTL
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Options to configure the Cryostat application's credentials database.
            displayName: Credentials Database Options
            path: jmxCredentialsDatabaseOptions
          - description: Name of the secret containing the password to encrypt credentials database.
            displayName: Database Secret Name
            path: jmxCredentialsDatabaseOptions.databaseSecretName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: The maximum number of WebSocket client connections allowed (minimum 1, default unlimited).
            displayName: Max WebSocket Connections
            path: maxWsConnections
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Options to control how the operator exposes the application outside of the cluster, such as using an Ingress or Route.
            displayName: Network Options
            path: networkOptions
          - description: "Specifications for how to expose the Cryostat command service, which serves the WebSocket command channel. \n Deprecated: CommandConfig is no longer used."
            displayName: Command Config
            path: networkOptions.commandConfig
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:hidden
          - description: Annotations to add to the Ingress or Route during its creation.
            displayName: Annotations
            path: networkOptions.commandConfig.annotations
          - description: Configuration for an Ingress object. Currently subpaths are not supported, so unique hosts must be specified (if a single external IP is being used) to differentiate between ingresses/services.
            displayName: Ingress Spec
            path: networkOptions.commandConfig.ingressSpec
          - description: Labels to add to the Ingress or Route during its creation. The label with key "app" is reserved for use by the operator.
            displayName: Labels
            path: networkOptions.commandConfig.labels
          - description: Specifications for how to expose the Cryostat service, which serves the Cryostat application.
            displayName: Core Config
            path: networkOptions.coreConfig
          - description: Annotations to add to the Ingress or Route during its creation.
            displayName: Annotations
            path: networkOptions.coreConfig.annotations
          - description: Configuration for an Ingress object. Currently subpaths are not supported, so unique hosts must be specified (if a single external IP is being used) to differentiate between ingresses/services.
            displayName: Ingress Spec
            path: networkOptions.coreConfig.ingressSpec
          - description: Labels to add to the Ingress or Route during its creation. The label with key "app" is reserved for use by the operator.
            displayName: Labels
            path: networkOptions.coreConfig.labels
          - description: Specifications for how to expose Cryostat's Grafana service, which serves the Grafana dashboard.
            displayName: Grafana Config
            path: networkOptions.grafanaConfig
          - description: Annotations to add to the Ingress or Route during its creation.
            displayName: Annotations
            path: networkOptions.grafanaConfig.annotations
          - description: Configuration for an Ingress object. Currently subpaths are not supported, so unique hosts must be specified (if a single external IP is being used) to differentiate between ingresses/services.
            displayName: Ingress Spec
            path: networkOptions.grafanaConfig.ingressSpec
          - description: Labels to add to the Ingress or Route during its creation. The label with key "app" is reserved for use by the operator.
            displayName: Labels
            path: networkOptions.grafanaConfig.labels
          - description: Options to configure the Cryostat deployments and pods metadata
            displayName: Operand metadata
            path: operandMetadata
          - description: Options to configure the Cryostat deployments metadata
            displayName: Deployments metadata
            path: operandMetadata.deploymentMetadata
          - description: Options to configure the Cryostat pods metadata
            displayName: Pods metadata
            path: operandMetadata.podMetadata
          - description: Options to configure Cryostat Automated Report Analysis.
            displayName: Report Options
            path: reportOptions
          - description: The number of report sidecar replica containers to deploy. Each replica can service one report generation request at a time.
            displayName: Replicas
            path: reportOptions.replicas
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podCount
          - description: The resources allocated to each sidecar replica. A replica with more resources can handle larger input recordings and will process them faster.
            displayName: Resources
            path: reportOptions.resources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Options to configure scheduling for the reports deployment
            displayName: Scheduling Options
            path: reportOptions.schedulingOptions
          - description: Affinity rules for scheduling Cryostat pods.
            displayName: Affinity
            path: reportOptions.schedulingOptions.affinity
          - description: 'Node affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#NodeAffinity'
            displayName: Node Affinity
            path: reportOptions.schedulingOptions.affinity.nodeAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:nodeAffinity
          - description: 'Pod affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAffinity'
            displayName: Pod Affinity
            path: reportOptions.schedulingOptions.affinity.podAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podAffinity
          - description: 'Pod anti-affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAntiAffinity'
            displayName: Pod Anti Affinity
            path: reportOptions.schedulingOptions.affinity.podAntiAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podAntiAffinity
          - description: 'Label selector used to schedule a Cryostat pod to a node. See: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/'
            displayName: Node Selector
            path: reportOptions.schedulingOptions.nodeSelector
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:Node
          - description: 'Tolerations to allow scheduling of Cryostat pods to tainted nodes. See: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/'
            displayName: Tolerations
            path: reportOptions.schedulingOptions.tolerations
          - description: Options to configure the Security Contexts for the Cryostat report generator.
            displayName: Security Options
            path: reportOptions.securityOptions
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:advanced
          - description: Security Context to apply to the Cryostat report generator pod.
            displayName: Pod Security Context
            path: reportOptions.securityOptions.podSecurityContext
          - description: Security Context to apply to the Cryostat report generator container.
            displayName: Reports Security Context
            path: reportOptions.securityOptions.reportsSecurityContext
          - description: When zero report sidecar replicas are requested, SubProcessMaxHeapSize configures the maximum heap size of the basic subprocess report generator in MiB. The default heap size is `200` (MiB).
            displayName: Sub Process Max Heap Size
            path: reportOptions.subProcessMaxHeapSize
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:number
          - description: Resource requirements for the Cryostat deployment.
            displayName: Resources
            path: resources
          - description: Resource requirements for the Cryostat application. If specifying a memory limit, at least 768MiB is recommended.
            displayName: Core Resources
            path: resources.coreResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Resource requirements for the JFR Data Source container.
            displayName: Data Source Resources
            path: resources.dataSourceResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Resource requirements for the Grafana container.
            displayName: Grafana Resources
            path: resources.grafanaResources
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
          - description: Options to configure scheduling for the Cryostat deployment
            displayName: Scheduling Options
            path: schedulingOptions
          - description: Affinity rules for scheduling Cryostat pods.
            displayName: Affinity
            path: schedulingOptions.affinity
          - description: 'Node affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#NodeAffinity'
            displayName: Node Affinity
            path: schedulingOptions.affinity.nodeAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:nodeAffinity
          - description: 'Pod affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAffinity'
            displayName: Pod Affinity
            path: schedulingOptions.affinity.podAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podAffinity
          - description: 'Pod anti-affinity scheduling rules for a Cryostat pod. See: https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAntiAffinity'
            displayName: Pod Anti Affinity
            path: schedulingOptions.affinity.podAntiAffinity
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:podAntiAffinity
          - description: 'Label selector used to schedule a Cryostat pod to a node. See: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/'
            displayName: Node Selector
            path: schedulingOptions.nodeSelector
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:Node
          - description: 'Tolerations to allow scheduling of Cryostat pods to tainted nodes. See: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/'
            displayName: Tolerations
            path: schedulingOptions.tolerations
          - description: Options to configure the Security Contexts for the Cryostat application.
            displayName: Security Options
            path: securityOptions
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:advanced
          - description: Security Context to apply to the Cryostat application container.
            displayName: Core Security Context
            path: securityOptions.coreSecurityContext
          - description: Security Context to apply to the JFR Data Source container.
            displayName: Data Source Security Context
            path: securityOptions.dataSourceSecurityContext
          - description: Security Context to apply to the storage container.
            displayName: Database Security Context
            path: securityOptions.databaseSecurityContext
          - description: Security Context to apply to the Grafana container.
            displayName: Grafana Security Context
            path: securityOptions.grafanaSecurityContext
          - description: Security Context to apply to the Cryostat pod.
            displayName: Pod Security Context
            path: securityOptions.podSecurityContext
          - description: Security Context to apply to the storage container.
            displayName: Storage Security Context
            path: securityOptions.storageSecurityContext
          - description: Options to customize the services created for the Cryostat application and Grafana dashboard.
            displayName: Service Options
            path: serviceOptions
          - description: Options to customize the storage for Flight Recordings and Templates.
            displayName: Storage Options
            path: storageOptions
          - description: Configuration for an EmptyDir to be created by the operator instead of a PVC.
            displayName: Empty Dir
            path: storageOptions.emptyDir
          - description: When enabled, Cryostat will use EmptyDir volumes instead of a Persistent Volume Claim. Any PVC configurations will be ignored.
            displayName: Enabled
            path: storageOptions.emptyDir.enabled
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: Unless specified, the emptyDir volume will be mounted on the same storage medium backing the node. Setting this field to "Memory" will mount the emptyDir on a tmpfs (RAM-backed filesystem).
            displayName: Medium
            path: storageOptions.emptyDir.medium
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldDependency:storageOptions.emptyDir.enabled:true
          - description: The maximum memory limit for the emptyDir. Default is unbounded.
            displayName: Size Limit
            path: storageOptions.emptyDir.sizeLimit
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldDependency:storageOptions.emptyDir.enabled:true
          - description: Configuration for the Persistent Volume Claim to be created by the operator.
            displayName: PVC
            path: storageOptions.pvc
          - description: Spec for a Persistent Volume Claim, whose options will override the defaults used by the operator. Unless overriden, the PVC will be created with the default Storage Class and 500MiB of storage. Once the operator has created the PVC, changes to this field have no effect.
            displayName: Spec
            path: storageOptions.pvc.spec
          - description: Options to configure the Cryostat application's target discovery mechanisms.
            displayName: Target Discovery Options
            path: targetDiscoveryOptions
          - description: When true, the Cryostat application will disable the built-in discovery mechanisms. Defaults to false.
            displayName: Disable Built-in Discovery
            path: targetDiscoveryOptions.builtInDiscoveryDisabled
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: When true, the Cryostat application will use the default port name jfr-jmx to look for JMX connectable targets.
            displayName: Disable Built-in Port Names
            path: targetDiscoveryOptions.disableBuiltInPortNames
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: When true, the Cryostat application will use the default port number 9091 to look for JMX connectable targets.
            displayName: Disable Built-in Port Numbers
            path: targetDiscoveryOptions.disableBuiltInPortNumbers
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
          - description: List of port names that the Cryostat application should look for in order to consider a target as JMX connectable.
            displayName: Discovery Port Names
            path: targetDiscoveryOptions.discoveryPortNames
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldDependency:targetDiscoveryOptions.disableBuiltInPortNames:true
          - description: List of port numbers that the Cryostat application should look for in order to consider a target as JMX connectable.
            displayName: Discovery Port Numbers
            path: targetDiscoveryOptions.discoveryPortNumbers
            x-descriptors:
              - urn:alm:descriptor:com.tectonic.ui:fieldDependency:targetDiscoveryOptions.disableBuiltInPortNumbers:true
          - description: List of TLS certificates to trust when connecting to targets.
            displayName: Trusted TLS Certificates
            path: trustedCertSecrets
          - description: Name of secret in the local namespace.
            displayName: Secret Name
            path: trustedCertSecrets[0].secretName
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
        statusDescriptors:
          - description: Address of the deployed Cryostat web application.
            displayName: Application URL
            path: applicationUrl
            x-descriptors:
              - urn:alm:descriptor:org.w3:link
          - description: Name of the Secret containing the generated Grafana credentials.
            displayName: Grafana Secret
            path: grafanaSecret
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes:Secret
          - description: Conditions of the components managed by the Cryostat Operator.
            displayName: Cryostat Conditions
            path: conditions
            x-descriptors:
              - urn:alm:descriptor:io.kubernetes.conditions
        version: v1beta1
  description: |
    Cryostat provides a cloud-based solution for interacting with the JDK Flight Recorder already present in OpenJDK 11+ JVMs. With Cryostat, users can remotely start, stop, retrieve, and even analyze JFR event data, providing the capability to easily take advantage of Flight Recorder's extremely low runtime cost and overhead and the flexibility to monitor applications and analyze recording data without transferring data outside of the cluster the application runs within.
    ##Prerequisites
    Cryostat requires [cert-manager](https://cert-manager.io/) to run. If not already installed in your cluster, please [install](https://cert-manager.io/docs/installation/) it using your preferred method.
    When running on Kubernetes, the operator also requires [Ingress configurations](https://github.com/cryostatio/cryostat-operator/blob/v3.0.0/docs/config.md#network-options) for each of its services to make them available outside of the cluster. The user is responsible for providing the hostnames for each Ingress.
  displayName: Cryostat Operator
  icon:
    - base64data: PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDojZmZmO30uY2xzLTJ7ZmlsbDojMWI0OTY1O30uY2xzLTN7ZmlsbDojOTVjOWU5O30uY2xzLTR7ZmlsbDojNWZhOGQzO308L3N0eWxlPjwvZGVmcz48cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iNjYxLjc2IDEzOS40OSA2MDcuMzggODUuMTEgNTUwLjQ1IDE0Mi4wNCA1NTAuNDUgMCA0NzMuNTUgMCA0NzMuNTUgMTQyLjA0IDQxNi42MiA4NS4xMSAzNjIuMjQgMTM5LjQ5IDUxMiAyODkuMjYgNjYxLjc2IDEzOS40OSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSI1OTcuMzQgNjU5LjgyIDY5OC45MiA2ODcuMDQgNjc3LjY0IDYwNy42MyA3NTcuMDQgNTg2LjM1IDY4Mi42OSA1MTIgNzU3LjA0IDQzNy42NSA2NzcuNjQgNDE2LjM3IDY5OC45MSAzMzYuOTYgNTk3LjM0IDM2NC4xOCA1NzAuMTMgMjYyLjYxIDUxMiAzMjAuNzQgNDUzLjg3IDI2Mi42MSA0MjYuNjYgMzY0LjE4IDMyNS4wOSAzMzYuOTYgMzQ2LjM2IDQxNi4zNyAyNjYuOTYgNDM3LjY1IDM0MS4zMSA1MTIgMjY2Ljk2IDU4Ni4zNSAzNDYuMzYgNjA3LjYzIDMyNS4wOSA2ODcuMDQgNDI2LjY2IDY1OS44MiA0NTMuODcgNzYxLjM5IDUxMiA3MDMuMjYgNTcwLjEzIDc2MS4zOSA1OTcuMzQgNjU5LjgyIi8+PHBvbHlnb24gY2xhc3M9ImNscy0zIiBwb2ludHM9IjI0Ni4yMyA0NTIuMSAyMTcuMzkgNDgwLjk0IDI0OC43NCA1MTIuMjkgMjE3LjM5IDU0My42NCAyNDYuMjMgNTcyLjQ4IDMwNi40MiA1MTIuMjkgMjQ2LjIzIDQ1Mi4xIi8+PHBvbHlnb24gY2xhc3M9ImNscy0zIiBwb2ludHM9Ijc3Ny43NyA0NTEuNTIgODA2LjYxIDQ4MC4zNiA3NzUuMjYgNTExLjcxIDgwNi42MSA1NDMuMDYgNzc3Ljc3IDU3MS45IDcxNy41OCA1MTEuNzEgNzc3Ljc3IDQ1MS41MiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMyIgcG9pbnRzPSI0MzEuNDkgNzcyLjQgMzkyLjA5IDc4Mi45NiAzODAuNjIgNzQwLjE0IDMzNy44IDc1MS42MSAzMjcuMjQgNzEyLjIyIDQwOS40NiA2OTAuMTkgNDMxLjQ5IDc3Mi40Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0zIiBwb2ludHM9IjY5Ny4yNiA3MTEuOTMgNjg2LjcxIDc1MS4zMiA2NDMuODggNzM5Ljg1IDYzMi40MSA3ODIuNjcgNTkzLjAxIDc3Mi4xMSA2MTUuMDQgNjg5LjkgNjk3LjI2IDcxMS45MyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMyIgcG9pbnRzPSI1OTIuNTEgMjUxLjYgNjMxLjkxIDI0MS4wNCA2NDMuMzggMjgzLjg2IDY4Ni4yIDI3Mi4zOSA2OTYuNzYgMzExLjc4IDYxNC41NCAzMzMuODEgNTkyLjUxIDI1MS42Ii8+PHBvbHlnb24gY2xhc3M9ImNscy0zIiBwb2ludHM9IjMyNi43NCAzMTIuMDcgMzM3LjI5IDI3Mi42OCAzODAuMTIgMjg0LjE1IDM5MS41OSAyNDEuMzMgNDMwLjk5IDI1MS44OSA0MDguOTYgMzM0LjEgMzI2Ljc0IDMxMi4wNyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNCIgcG9pbnRzPSIyNjQuMjggMTk2LjA1IDE5MCAyMTUuOTUgMjEwLjgzIDI5My43MiA4Ny44MiAyMjIuNyA0OS4zNyAyODkuMyAxNzIuMzggMzYwLjMyIDk0LjYxIDM4MS4xNiAxMTQuNTIgNDU1LjQ1IDMxOS4xIDQwMC42MyAyNjQuMjggMTk2LjA1Ii8+PHBvbHlnb24gY2xhc3M9ImNscy00IiBwb2ludHM9IjExNC41MiA1NjguNTYgOTQuNjEgNjQyLjg0IDE3Mi4zOCA2NjMuNjggNDkuMzcgNzM0LjcgODcuODIgODAxLjMgMjEwLjgzIDczMC4yOCAxOTAgODA4LjA1IDI2NC4yOCA4MjcuOTUgMzE5LjEgNjIzLjM3IDExNC41MiA1NjguNTYiLz48cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iMzYyLjI0IDg4NC41MSA0MTYuNjIgOTM4Ljg5IDQ3My41NSA4ODEuOTYgNDczLjU1IDEwMjQgNTUwLjQ1IDEwMjQgNTUwLjQ1IDg4MS45NiA2MDcuMzggOTM4Ljg5IDY2MS43NiA4ODQuNTEgNTEyIDczNC43NCAzNjIuMjQgODg0LjUxIi8+PHBvbHlnb24gY2xhc3M9ImNscy00IiBwb2ludHM9Ijc1OS43MiA4MjcuOTUgODM0IDgwOC4wNSA4MTMuMTcgNzMwLjI4IDkzNi4xOCA4MDEuMyA5NzQuNjMgNzM0LjcgODUxLjYyIDY2My42OCA5MjkuMzkgNjQyLjg0IDkwOS40OCA1NjguNTUgNzA0LjkgNjIzLjM3IDc1OS43MiA4MjcuOTUiLz48cG9seWdvbiBjbGFzcz0iY2xzLTQiIHBvaW50cz0iOTA5LjQ4IDQ1NS40NCA5MjkuMzkgMzgxLjE2IDg1MS42MiAzNjAuMzIgOTc0LjYzIDI4OS4zIDkzNi4xOCAyMjIuNyA4MTMuMTcgMjkzLjcyIDgzNCAyMTUuOTUgNzU5LjcyIDE5Ni4wNSA3MDQuOSA0MDAuNjMgOTA5LjQ4IDQ1NS40NCIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTUxMi41NCw1NzkuNDdjLTM3LjQ3LDAtNjcuOTYtMzAuNDktNjcuOTYtNjcuOTZzMzAuNDktNjcuOTYsNjcuOTYtNjcuOTZjMjUuMTEsMCw0Ny4wNiwxMy42OSw1OC44MiwzNGw2OS4xNy0zOS43Ni0xMjguNTMtNzQuMjEtMTI4LjUzLDc0LjIxdjE0OC40MmwxMjguNTMsNzQuMjEsMTI4LjUzLTc0LjIxLTY5LjE3LTQwLjczYy0xMS43NywyMC4zLTMzLjcyLDMzLjk5LTU4LjgyLDMzLjk5WiIvPjwvc3ZnPg==
      mediatype: image/svg+xml
  install:
    spec:
      clusterPermissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
                - endpoints
                - events
                - persistentvolumeclaims
                - pods
                - secrets
                - serviceaccounts
                - services
                - services/finalizers
              verbs:
                - '*'
            - apiGroups:
                - ""
              resources:
                - namespaces
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - ""
              resources:
                - replicationcontrollers
              verbs:
                - get
            - apiGroups:
                - ""
              resourceNames:
                - pull-secret
              resources:
                - secrets
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - apps
              resources:
                - daemonsets
                - deployments
                - replicasets
                - statefulsets
              verbs:
                - '*'
            - apiGroups:
                - apps.openshift.io
              resources:
                - deploymentconfigs
              verbs:
                - get
            - apiGroups:
                - authentication.k8s.io
              resources:
                - tokenreviews
              verbs:
                - create
            - apiGroups:
                - authorization.k8s.io
              resources:
                - selfsubjectaccessreviews
              verbs:
                - create
            - apiGroups:
                - authorization.k8s.io
              resources:
                - subjectaccessreviews
              verbs:
                - create
            - apiGroups:
                - cert-manager.io
              resources:
                - certificates
                - issuers
              verbs:
                - create
                - delete
                - get
                - list
                - update
                - watch
            - apiGroups:
                - config.openshift.io
              resources:
                - apiservers
              verbs:
                - get
                - list
                - update
                - watch
            - apiGroups:
                - config.openshift.io
              resources:
                - clusterversions
              verbs:
                - get
                - list
                - watch
            - apiGroups:
                - console.openshift.io
              resources:
                - consolelinks
              verbs:
                - create
                - delete
                - get
                - list
                - update
            - apiGroups:
                - networking.k8s.io
              resources:
                - ingresses
              verbs:
                - '*'
            - apiGroups:
                - oauth.openshift.io
              resources:
                - oauthaccesstokens
              verbs:
                - delete
                - list
            - apiGroups:
                - operator.cryostat.io
              resources:
                - cryostats
              verbs:
                - '*'
            - apiGroups:
                - operator.cryostat.io
              resources:
                - cryostats/finalizers
              verbs:
                - update
            - apiGroups:
                - operator.cryostat.io
              resources:
                - cryostats/status
              verbs:
                - get
                - patch
                - update
            - apiGroups:
                - rbac.authorization.k8s.io
              resources:
                - clusterrolebindings
              verbs:
                - create
                - delete
                - get
                - list
                - update
                - watch
            - apiGroups:
                - rbac.authorization.k8s.io
              resources:
                - rolebindings
                - roles
              verbs:
                - create
                - delete
                - get
                - list
                - update
                - watch
            - apiGroups:
                - route.openshift.io
              resources:
                - routes
                - routes/custom-host
              verbs:
                - '*'
          serviceAccountName: cryostat-operator-service-account
      deployments:
        - label:
            control-plane: controller-manager
          name: cryostat-operator-controller-manager
          spec:
            replicas: 1
            selector:
              matchLabels:
                control-plane: controller-manager
            strategy: {}
            template:
              metadata:
                annotations:
                  kubectl.kubernetes.io/default-container: manager
                labels:
                  control-plane: controller-manager
              spec:
                containers:
                  - args:
                      - --leader-elect
                    command:
                      - /manager
                    env:
                      - name: RELATED_IMAGE_OAUTH2_PROXY
                        value: quay.io/oauth2-proxy/oauth2-proxy:latest
                      - name: RELATED_IMAGE_OPENSHIFT_OAUTH_PROXY
                        value: quay.io/cryostat/openshift-oauth-proxy:3.0.0
                      - name: RELATED_IMAGE_CORE
                        value: quay.io/cryostat/cryostat:3.0.0
                      - name: RELATED_IMAGE_DATASOURCE
                        value: quay.io/cryostat/jfr-datasource:3.0.0
                      - name: RELATED_IMAGE_GRAFANA
                        value: quay.io/cryostat/cryostat-grafana-dashboard:3.0.0
                      - name: RELATED_IMAGE_REPORTS
                        value: quay.io/cryostat/cryostat-reports:3.0.0
                      - name: RELATED_IMAGE_STORAGE
                        value: quay.io/cryostat/cryostat-storage:3.0.0
                      - name: RELATED_IMAGE_DATABASE
                        value: quay.io/cryostat/cryostat-db:3.0.0
                      - name: WATCH_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.annotations['olm.targetNamespaces']
                      - name: OPERATOR_NAMESPACE
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.namespace
                    image: quay.io/cryostat/cryostat-operator:3.0.0
                    imagePullPolicy: IfNotPresent
                    livenessProbe:
                      httpGet:
                        path: /healthz
                        port: 8081
                      initialDelaySeconds: 15
                      periodSeconds: 20
                    name: manager
                    ports:
                      - containerPort: 9443
                        name: webhook-server
                        protocol: TCP
                    readinessProbe:
                      httpGet:
                        path: /readyz
                        port: 8081
                      initialDelaySeconds: 5
                      periodSeconds: 10
                    resources:
                      limits:
                        cpu: "1"
                        memory: 256Mi
                      requests:
                        cpu: 100m
                        memory: 64Mi
                    securityContext:
                      allowPrivilegeEscalation: false
                      capabilities:
                        drop:
                          - ALL
                    volumeMounts:
                      - mountPath: /tmp/k8s-webhook-server/serving-certs
                        name: cert
                        readOnly: true
                securityContext:
                  runAsNonRoot: true
                  seccompProfile:
                    type: RuntimeDefault
                serviceAccountName: cryostat-operator-service-account
                terminationGracePeriodSeconds: 10
                volumes:
                  - name: cert
                    secret:
                      defaultMode: 420
                      secretName: webhook-server-cert
      permissions:
        - rules:
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - coordination.k8s.io
              resources:
                - leases
              verbs:
                - get
                - list
                - watch
                - create
                - update
                - patch
                - delete
            - apiGroups:
                - ""
              resources:
                - events
              verbs:
                - create
                - patch
            - apiGroups:
                - ""
              resources:
                - configmaps
              verbs:
                - create
                - delete
                - get
                - list
                - update
                - watch
            - apiGroups:
                - ""
              resources:
                - configmaps/finalizers
                - secrets
                - services
              verbs:
                - create
                - get
                - list
                - update
                - watch
            - apiGroups:
                - apps
              resources:
                - deployments
                - deployments/finalizers
              verbs:
                - create
                - get
                - list
                - update
                - watch
            - apiGroups:
                - monitoring.coreos.com
              resources:
                - servicemonitors
              verbs:
                - create
                - get
          serviceAccountName: cryostat-operator-service-account
    strategy: deployment
  installModes:
    - supported: false
      type: OwnNamespace
    - supported: false
      type: SingleNamespace
    - supported: false
      type: MultiNamespace
    - supported: true
      type: AllNamespaces
  keywords:
    - flightrecorder
    - java
    - jdk
    - jfr
    - jmc
    - missioncontrol
    - monitoring
    - profiling
    - diagnostic
  links:
    - name: Upstream Project
      url: https://github.com/cryostatio/cryostat
    - name: Website
      url: https://cryostat.io/
  maintainers:
    - email: cryostat-development@googlegroups.com
      name: The Cryostat Authors
  maturity: stable
  minKubeVersion: 1.21.0
  provider:
    name: The Cryostat Community
  relatedImages:
    - image: quay.io/oauth2-proxy/oauth2-proxy:latest
      name: oauth2-proxy
    - image: quay.io/cryostat/openshift-oauth-proxy:3.0.0
      name: openshift-oauth-proxy
    - image: quay.io/cryostat/cryostat:3.0.0
      name: core
    - image: quay.io/cryostat/jfr-datasource:3.0.0
      name: datasource
    - image: quay.io/cryostat/cryostat-grafana-dashboard:3.0.0
      name: grafana
    - image: quay.io/cryostat/cryostat-reports:3.0.0
      name: reports
    - image: quay.io/cryostat/cryostat-storage:3.0.0
      name: storage
    - image: quay.io/cryostat/cryostat-db:3.0.0
      name: database
  version: 3.0.0
  webhookdefinitions:
    - admissionReviewVersions:
        - v1
      containerPort: 443
      conversionCRDs:
        - cryostats.operator.cryostat.io
      deploymentName: cryostat-operator-controller-manager
      generateName: ccryostats.kb.io
      sideEffects: None
      targetPort: 9443
      type: ConversionWebhook
      webhookPath: /convert
    - admissionReviewVersions:
        - v1
      containerPort: 443
      deploymentName: cryostat-operator-controller-manager
      failurePolicy: Fail
      generateName: mcryostat.kb.io
      rules:
        - apiGroups:
            - operator.cryostat.io
          apiVersions:
            - v1beta2
          operations:
            - CREATE
            - UPDATE
          resources:
            - cryostats
      sideEffects: None
      targetPort: 9443
      type: MutatingAdmissionWebhook
      webhookPath: /mutate-operator-cryostat-io-v1beta2-cryostat
    - admissionReviewVersions:
        - v1
      containerPort: 443
      deploymentName: cryostat-operator-controller-manager
      failurePolicy: Fail
      generateName: vcryostat.kb.io
      rules:
        - apiGroups:
            - operator.cryostat.io
          apiVersions:
            - v1beta2
          operations:
            - CREATE
            - UPDATE
          resources:
            - cryostats
      sideEffects: None
      targetPort: 9443
      type: ValidatingAdmissionWebhook
      webhookPath: /validate-operator-cryostat-io-v1beta2-cryostat
