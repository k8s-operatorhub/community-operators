apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  creationTimestamp: null
  name: deliverystreams.firehose.services.k8s.aws
spec:
  group: firehose.services.k8s.aws
  names:
    kind: DeliveryStream
    listKind: DeliveryStreamList
    plural: deliverystreams
    singular: deliverystream
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: DeliveryStream is the Schema for the DeliveryStreams API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: DeliveryStreamSpec defines the desired state of DeliveryStream.
            properties:
              deliveryStreamEncryptionConfiguration:
                description: |-
                  Used to specify the type and Amazon Resource Name (ARN) of the KMS key needed
                  for Server-Side Encryption (SSE).
                properties:
                  keyARN:
                    type: string
                  keyRef:
                    description: Reference field for KeyARN
                    properties:
                      from:
                        description: |-
                          AWSResourceReference provides all the values necessary to reference another
                          k8s resource for finding the identifier(Id/ARN/Name)
                        properties:
                          name:
                            type: string
                          namespace:
                            type: string
                        type: object
                    type: object
                  keyType:
                    type: string
                type: object
              deliveryStreamName:
                description: |-
                  The name of the Firehose stream. This name must be unique per Amazon Web
                  Services account in the same Amazon Web Services Region. If the Firehose
                  streams are in different accounts or different Regions, you can have multiple
                  Firehose streams with the same name.

                  Regex Pattern: `^[a-zA-Z0-9_.-]+$`
                type: string
              deliveryStreamType:
                description: |-
                  The Firehose stream type. This parameter can be one of the following values:

                     * DirectPut: Provider applications access the Firehose stream directly.

                     * KinesisStreamAsSource: The Firehose stream uses a Kinesis data stream
                     as a source.
                type: string
              httpEndpointDestinationConfiguration:
                description: |-
                  Enables configuring Kinesis Firehose to deliver data to any HTTP endpoint
                  destination. You can specify only one destination.
                properties:
                  bufferingHints:
                    description: |-
                      Describes the buffering options that can be applied before data is delivered
                      to the HTTP endpoint destination. Firehose treats these options as hints,
                      and it might choose to use more optimal values. The SizeInMBs and IntervalInSeconds
                      parameters are optional. However, if specify a value for one of them, you
                      must also provide a value for the other.
                    properties:
                      intervalInSeconds:
                        format: int64
                        type: integer
                      sizeInMBs:
                        format: int64
                        type: integer
                    type: object
                  cloudWatchLoggingOptions:
                    description: Describes the Amazon CloudWatch logging options for
                      your Firehose stream.
                    properties:
                      enabled:
                        type: boolean
                      logGroupName:
                        type: string
                      logStreamName:
                        type: string
                    type: object
                  endpointConfiguration:
                    description: |-
                      Describes the configuration of the HTTP endpoint to which Kinesis Firehose
                      delivers data.
                    properties:
                      accessKey:
                        description: |-
                          SecretKeyReference combines a k8s corev1.SecretReference with a
                          specific key within the referred-to Secret
                        properties:
                          key:
                            description: Key is the key within the secret
                            type: string
                          name:
                            description: name is unique within a namespace to reference
                              a secret resource.
                            type: string
                          namespace:
                            description: namespace defines the space within which
                              the secret name must be unique.
                            type: string
                        required:
                        - key
                        type: object
                        x-kubernetes-map-type: atomic
                      name:
                        type: string
                      url:
                        type: string
                    type: object
                  processingConfiguration:
                    description: Describes a data processing configuration.
                    properties:
                      enabled:
                        type: boolean
                      processors:
                        items:
                          description: |-
                            Describes a data processor.

                            If you want to add a new line delimiter between records in objects that are
                            delivered to Amazon S3, choose AppendDelimiterToRecord as a processor type.
                            You donâ€™t have to put a processor parameter when you select AppendDelimiterToRecord.
                          properties:
                            parameters:
                              items:
                                description: Describes the processor parameter.
                                properties:
                                  parameterName:
                                    type: string
                                  parameterValue:
                                    type: string
                                type: object
                              type: array
                            type:
                              type: string
                          type: object
                        type: array
                    type: object
                  requestConfiguration:
                    description: The configuration of the HTTP endpoint request.
                    properties:
                      commonAttributes:
                        items:
                          description: Describes the metadata that's delivered to
                            the specified HTTP endpoint destination.
                          properties:
                            attributeName:
                              type: string
                            attributeValue:
                              type: string
                          type: object
                        type: array
                      contentEncoding:
                        type: string
                    type: object
                  retryOptions:
                    description: |-
                      Describes the retry behavior in case Firehose is unable to deliver data to
                      the specified HTTP endpoint destination, or if it doesn't receive a valid
                      acknowledgment of receipt from the specified HTTP endpoint destination.
                    properties:
                      durationInSeconds:
                        format: int64
                        type: integer
                    type: object
                  roleARN:
                    type: string
                  roleRef:
                    description: Reference field for RoleARN
                    properties:
                      from:
                        description: |-
                          AWSResourceReference provides all the values necessary to reference another
                          k8s resource for finding the identifier(Id/ARN/Name)
                        properties:
                          name:
                            type: string
                          namespace:
                            type: string
                        type: object
                    type: object
                  s3BackupMode:
                    type: string
                  s3Configuration:
                    description: Describes the configuration of a destination in Amazon
                      S3.
                    properties:
                      bucketARN:
                        type: string
                      bucketRef:
                        description: Reference field for BucketARN
                        properties:
                          from:
                            description: |-
                              AWSResourceReference provides all the values necessary to reference another
                              k8s resource for finding the identifier(Id/ARN/Name)
                            properties:
                              name:
                                type: string
                              namespace:
                                type: string
                            type: object
                        type: object
                      bufferingHints:
                        description: |-
                          Describes hints for the buffering to perform before delivering data to the
                          destination. These options are treated as hints, and therefore Firehose might
                          choose to use different values when it is optimal. The SizeInMBs and IntervalInSeconds
                          parameters are optional. However, if specify a value for one of them, you
                          must also provide a value for the other.
                        properties:
                          intervalInSeconds:
                            format: int64
                            type: integer
                          sizeInMBs:
                            format: int64
                            type: integer
                        type: object
                      cloudWatchLoggingOptions:
                        description: Describes the Amazon CloudWatch logging options
                          for your Firehose stream.
                        properties:
                          enabled:
                            type: boolean
                          logGroupName:
                            type: string
                          logStreamName:
                            type: string
                        type: object
                      compressionFormat:
                        type: string
                      encryptionConfiguration:
                        description: Describes the encryption for a destination in
                          Amazon S3.
                        properties:
                          kmsEncryptionConfig:
                            description: Describes an encryption key for a destination
                              in Amazon S3.
                            properties:
                              awsKMSKeyARN:
                                type: string
                              awsKMSKeyRef:
                                description: Reference field for AWSKMSKeyARN
                                properties:
                                  from:
                                    description: |-
                                      AWSResourceReference provides all the values necessary to reference another
                                      k8s resource for finding the identifier(Id/ARN/Name)
                                    properties:
                                      name:
                                        type: string
                                      namespace:
                                        type: string
                                    type: object
                                type: object
                            type: object
                          noEncryptionConfig:
                            type: string
                        type: object
                      errorOutputPrefix:
                        type: string
                      prefix:
                        type: string
                      roleARN:
                        type: string
                      roleRef:
                        description: Reference field for RoleARN
                        properties:
                          from:
                            description: |-
                              AWSResourceReference provides all the values necessary to reference another
                              k8s resource for finding the identifier(Id/ARN/Name)
                            properties:
                              name:
                                type: string
                              namespace:
                                type: string
                            type: object
                        type: object
                    type: object
                  secretsManagerConfiguration:
                    description: The structure that defines how Firehose accesses
                      the secret.
                    properties:
                      enabled:
                        type: boolean
                      roleARN:
                        type: string
                      roleRef:
                        description: Reference field for RoleARN
                        properties:
                          from:
                            description: |-
                              AWSResourceReference provides all the values necessary to reference another
                              k8s resource for finding the identifier(Id/ARN/Name)
                            properties:
                              name:
                                type: string
                              namespace:
                                type: string
                            type: object
                        type: object
                      secretARN:
                        type: string
                      secretRef:
                        description: Reference field for SecretARN
                        properties:
                          from:
                            description: |-
                              AWSResourceReference provides all the values necessary to reference another
                              k8s resource for finding the identifier(Id/ARN/Name)
                            properties:
                              name:
                                type: string
                              namespace:
                                type: string
                            type: object
                        type: object
                    type: object
                type: object
              tags:
                description: |-
                  A set of tags to assign to the Firehose stream. A tag is a key-value pair
                  that you can define and assign to Amazon Web Services resources. Tags are
                  metadata. For example, you can add friendly names and descriptions or other
                  types of information that can help you distinguish the Firehose stream. For
                  more information about tags, see Using Cost Allocation Tags (https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html)
                  in the Amazon Web Services Billing and Cost Management User Guide.

                  You can specify up to 50 tags when creating a Firehose stream.

                  If you specify tags in the CreateDeliveryStream action, Amazon Data Firehose
                  performs an additional authorization on the firehose:TagDeliveryStream action
                  to verify if users have permissions to create tags. If you do not provide
                  this permission, requests to create new Firehose streams with IAM resource
                  tags will fail with an AccessDeniedException such as following.

                  AccessDeniedException

                  User: arn:aws:sts::x:assumed-role/x/x is not authorized to perform: firehose:TagDeliveryStream
                  on resource: arn:aws:firehose:us-east-1:x:deliverystream/x with an explicit
                  deny in an identity-based policy.

                  For an example IAM policy, see Tag example. (https://docs.aws.amazon.com/firehose/latest/APIReference/API_CreateDeliveryStream.html#API_CreateDeliveryStream_Examples)
                items:
                  description: |-
                    Metadata that you can assign to a Firehose stream, consisting of a key-value
                    pair.
                  properties:
                    key:
                      type: string
                    value:
                      type: string
                  type: object
                type: array
            required:
            - deliveryStreamName
            type: object
          status:
            description: DeliveryStreamStatus defines the observed state of DeliveryStream
            properties:
              ackResourceMetadata:
                description: |-
                  All CRs managed by ACK have a common `Status.ACKResourceMetadata` member
                  that is used to contain resource sync state, account ownership,
                  constructed ARN for the resource
                properties:
                  arn:
                    description: |-
                      ARN is the Amazon Resource Name for the resource. This is a
                      globally-unique identifier and is set only by the ACK service controller
                      once the controller has orchestrated the creation of the resource OR
                      when it has verified that an "adopted" resource (a resource where the
                      ARN annotation was set by the Kubernetes user on the CR) exists and
                      matches the supplied CR's Spec field values.
                      https://github.com/aws/aws-controllers-k8s/issues/270
                    type: string
                  ownerAccountID:
                    description: |-
                      OwnerAccountID is the AWS Account ID of the account that owns the
                      backend AWS service API resource.
                    type: string
                  region:
                    description: Region is the AWS region in which the resource exists
                      or will exist.
                    type: string
                required:
                - ownerAccountID
                - region
                type: object
              conditions:
                description: |-
                  All CRs managed by ACK have a common `Status.Conditions` member that
                  contains a collection of `ackv1alpha1.Condition` objects that describe
                  the various terminal states of the CR and its backend AWS service API
                  resource
                items:
                  description: |-
                    Condition is the common struct used by all CRDs managed by ACK service
                    controllers to indicate terminal states  of the CR and its backend AWS
                    service API resource
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition.
                      type: string
                    reason:
                      description: The reason for the condition's last transition.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type is the type of the Condition
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
              createTimestamp:
                description: The date and time that the Firehose stream was created.
                format: date-time
                type: string
              deliveryStreamEncryptionConfigurationFailureDescription:
                description: |-
                  Provides details in case one of the following operations fails due to an
                  error related to KMS: CreateDeliveryStream, DeleteDeliveryStream, StartDeliveryStreamEncryption,
                  StopDeliveryStreamEncryption.
                properties:
                  details:
                    type: string
                  type:
                    type: string
                type: object
              deliveryStreamEncryptionConfigurationStatus:
                description: |-
                  This is the server-side encryption (SSE) status for the Firehose stream.
                  For a full description of the different values of this status, see StartDeliveryStreamEncryption
                  and StopDeliveryStreamEncryption. If this status is ENABLING_FAILED or DISABLING_FAILED,
                  it is the status of the most recent attempt to enable or disable SSE, respectively.
                type: string
              deliveryStreamStatus:
                description: |-
                  The status of the Firehose stream. If the status of a Firehose stream is
                  CREATING_FAILED, this status doesn't change, and you can't invoke CreateDeliveryStream
                  again on it. However, you can invoke the DeleteDeliveryStream operation to
                  delete it.
                type: string
              destinationID:
                description: |-
                  The ID of the destination.

                  Regex Pattern: `^[a-zA-Z0-9-]+$`
                type: string
              lastUpdateTimestamp:
                description: The date and time that the Firehose stream was last updated.
                format: date-time
                type: string
              versionID:
                description: |-
                  Each time the destination is updated for a Firehose stream, the version ID
                  is changed, and the current version ID is required when updating the destination.
                  This is so that the service knows it is applying the changes to the correct
                  version of the delivery stream.

                  Regex Pattern: `^[0-9]+$`
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: null
  storedVersions: null
